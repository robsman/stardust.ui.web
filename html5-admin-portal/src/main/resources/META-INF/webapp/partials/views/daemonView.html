
<div class="view-panel" ng-controller="sdDaemonCtrl as ctrl"
	sg-stretch-to-bottom>
	<!-- View Toolbar -->
	<div
		sd-include="'plugins/html5-admin-portal/partials/views/refreshViewToolbar.html'"></div>

	<!-- View Content -->
	<div class="view-panel-content">
		<div class="tbl-title">{{i18n('admin-portal-messages.views-daemons-table-title')}}</div>
		<table sd-data-table="ctrl.daemonDataTable"
			sd-data="ctrl.fetchDaemons()" sda-mode="local"
			sda-no-pagination="true" sda-column-selector="ctrl.columnSelector"
			sda-sortable="single">
			<thead>
				<tr>
					<th sda-name="type" sda-fixed="true" sda-sortable="true"
						sda-label-key="admin-portal-messages.views-daemons-column-type"></th>
					<th sda-name="startTime"
						sda-label-key="admin-portal-messages.views-daemons-column-started"></th>
					<th sda-name="lastExecutionTime"
						sda-label-key="admin-portal-messages.views-daemons-column-lastTime"></th>
					<th sda-name="running"
						sda-label-key="admin-portal-messages.views-daemons-column-status"></th>
					<th sda-name="acknowledgementState"
						sda-label-key="admin-portal-messages.views-daemons-column-acknowledgeState"></th>
					<th sda-name="daemonExecutionState"
						sda-label-key="admin-portal-messages.views-daemons-column-executionState"></th>
					<th sda-name="actions" sda-fixed="true"
						sda-label-key="admin-portal-messages.views-common-column-actions"></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{i18n(ctrl.getDaemonTypeLabel(rowData.type))}}</td>
					<td sda-data-type="dateTime"
						style="text-align: center; white-space: nowrap;"></td>
					<td sda-data-type="dateTime"
						style="text-align: center; white-space: nowrap;"></td>
					<td>{{(rowData.running) ?
						i18n('admin-portal-messages.views-daemons-status-column-running')
						:
						i18n('admin-portal-messages.views-daemons-status-column-stopped')}}</td>
					<td></td>
					<td></td>
					<td style="white-space: nowrap; text-align: center;"><a
						href="#"
						ng-click="bpmCommon.stopEvent($event); ctrl.toggleDaemonAction(rowData);"
						ng-attr-title="{{rowData.running ? i18n('admin-portal-messages.views-daemons-stopDaemon') : i18n('admin-portal-messages.views-daemons-startDaemon')}}"
						class="view-tool-link"> <i
							ng-class="rowData.running ? 'fa fa-dot-circle-o' : 'fa fa-play-circle-o'"></i>
					</a></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>