<f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">
	
	
	<ice:panelGroup>
		<ui:include src="/plugins/common/views/dialog/confirmationDialog.xhtml">
				<ui:param name="dialogBean" value="#{auditTrailBean.mappedConfirmationDialog}" />
			</ui:include>
	</ice:panelGroup>
	<ice:panelGroup>
		<ui:include src="/plugins/common/templates/launchPanelTemplate.xhtml">
			<ui:param name="bean" value="#{ippAdmAdministrativeActions}" />
			<ui:param name="title" value="#{ippAdmAdministrativeActions.messages['title']}" />
			<ui:param name="collapsible" value="true" />
			<ui:param name="showRefreshLink" value="false" />
			<ui:param name="automationTag" value="auto-ADM-actionsPanel" />
		</ui:include>
	</ice:panelGroup>
	<ice:panelGrid columns="1" rendered="#{ippAdmAdministrativeActions.expanded}">
		 <ice:commandLink panelConfirmation="recovery" actionListener="#{auditTrailBean.recoverWE}">
		 	  <pc:automationTag value="auto-ADM-recovery" standAlone="false"/>
              <ice:outputText value="#{ippAdmAdministrativeActions.messages['recovery.title']} &amp;raquo;"
              	styleClass="action-link" escape="false"/>
          </ice:commandLink>
          <ice:commandLink actionListener="#{auditTrailBean.openCleanupATDConfirm}">
          	  <pc:automationTag value="auto-ADM-clAuditTrailDB" standAlone="false"/>
              <ice:outputText value="#{ippAdmAdministrativeActions.messages['catd.title']} &amp;raquo;"
              	styleClass="action-link" escape="false"/>
          </ice:commandLink>                  
          <ice:commandLink panelConfirmation="catmd" action="#{auditTrailBean.cleanupATMD}">
          	  <pc:automationTag value="auto-ADM-clAuditTrailModelDB" standAlone="false"/>
              <ice:outputText value="#{ippAdmAdministrativeActions.messages['catmd.title']} &amp;raquo;"
              	styleClass="action-link" escape="false"/>
          </ice:commandLink>
          <ice:panelConfirmation id="recovery" message="#{ippAdmAdministrativeActions.messages['auditTrail.recoverWorkflowEngineText']}"
                    acceptLabel="#{messages_admin['common.yes']}" cancelLabel="#{messages_admin['common.no']}" title="#{ippAdmAdministrativeActions.messages['recovery.title']}">
                    <pc:automationTag value="auto-ADM-RecoveryCnfMsg" standAlone="false" requiredValue="pnlConfirmation" />
          </ice:panelConfirmation>
          <ice:panelConfirmation id="catmd" message="#{ippAdmAdministrativeActions.messages['auditTrail.cleanUpAuditTrailAndModelDbText']}"
                    acceptLabel="#{messages_admin['common.yes']}" cancelLabel="#{messages_admin['common.no']}" title="#{ippAdmAdministrativeActions.messages['catmd.title']}">
                     <pc:automationTag value="auto-ADM-clAuditTrailModelDBCnfMsg" standAlone="false" requiredValue="pnlConfirmation" />
          </ice:panelConfirmation>
	</ice:panelGrid>
</f:view>