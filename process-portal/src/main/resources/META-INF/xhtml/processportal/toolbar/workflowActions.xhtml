<f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">

	<ice:panelGrid columns="2" cellpadding="0" cellspacing="0"
		rendered="#{ippActivityPanelController.loadSuccessful}">

		<ice:panelGroup styleClass="toolbarGroupLeft"
			style="padding-left:2px; margin-left:4px; margin-right:4px"
			rendered="#{activityDetailsBean.showAssemblyLinePushServiceControls}">
			<ice:commandLink
				action="#{activityDetailsBean.toggleAssemblyLinePushService}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarAssemblyFeeds"
					standAlone="false" />
				<ice:graphicImage
					rendered="#{activityDetailsBean.assemblyLinePushService}"
					value="/plugins/views-common/images/icons/lightning_delete.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.disableAssemblyLineFeedIn']}" />
				<ice:graphicImage
					rendered="#{not activityDetailsBean.assemblyLinePushService}"
					value="/plugins/views-common/images/icons/lightning.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.enableAssemblyLineFeedIn']}" />
			</ice:commandLink>
		</ice:panelGroup>
		<ice:panelGrid columns="14">
			<ice:panelGroup
				rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesVisible}">
				<ice:commandLink disabled="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesDisabled}"
					action="#{activityDetailsBean.toggleQualityAssuranceCodesIframePopup}"
					style="padding:0px;"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaCodes']}">
					<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QACodes"
						standAlone="false" />
					<ice:graphicImage style="padding-right:5px;" styleClass="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesDisabled ? 'iceCmdBtn-dis' : ''}"
						value="/plugins/views-common/images/icons/wrench_exclamation_menu.png" />
				</ice:commandLink>
				<div id="ippQualityAssuranceCodesAnchor" style="width: 1px; height: 1px;"></div>
				<td class="toolbarGroupRight" style="padding-left: 0px;" />
			</ice:panelGroup>

			<ice:commandLink rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				action="#{activityDetailsBean.completeQualityAssurancePass}">
				<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QAPass" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/tick-octagon.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaPass']}" />
			</ice:commandLink>
			
			<ice:commandLink rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				action="#{activityDetailsBean.completeQualityAssuranceFail}">
				<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QAFail" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/cross-octagon-frame.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaFail']}" />
			</ice:commandLink>
			
			<ice:commandLink rendered="#{!activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				actionListener="#{activityDetailsBean.completeAction}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarComplete" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/process-history/activity_completed.png"
					styleClass="toolbar-button toolbar-button-complete"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.complete']}" />
			</ice:commandLink>

			<ice:commandLink
				actionListener="#{activityDetailsBean.suspendAction}"
				immediate="true">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSuspend" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/clock.png"
					style="padding :0px;margin:0px;"
					styleClass="toolbar-button toolbar-button-suspend"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspend']}"/>
			</ice:commandLink>
			<ice:panelGroup>
				<ice:commandLink
					action="#{activityDetailsBean.toggleSuspendActivityIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendMenu']}" >
					<ice:graphicImage style="padding:0px;margin:0px;width:11px;"
						value="/plugins/views-common/images/icons/arrow.png"
						styleClass="toolbar-button" />
				</ice:commandLink>
				<div id="ippSuspendAnchor" style="width: 1px; height: 1px;"></div>
			</ice:panelGroup>

			<ice:commandLink actionListener="#{activityDetailsBean.saveAction}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSave" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/clock_save.png"
					style="padding :0px;margin:0px;"
					styleClass="toolbar-button toolbar-button-suspend-save"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendAndSave']}" />
			</ice:commandLink>
			<ice:panelGroup>
				<ice:commandLink
					action="#{activityDetailsBean.toggleSaveActivityIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendSaveMenu']}" >
					<ice:graphicImage style="padding:0px;width:11px;"
						value="/plugins/views-common/images/icons/arrow.png"
						styleClass="toolbar-button" />
				</ice:commandLink>
				<div id="ippSaveActivityAnchor" style="width: 1px; height: 1px;"></div>
			</ice:panelGroup>

			<ice:commandLink
				actionListener="#{activityDetailsBean.resubmitAction}"
				immediate="true" rendered="#{activityDetailsBean.resubmitable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarResubmit" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/resubmission.gif"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.resubmit']}" />
			</ice:commandLink>
			
			<ice:commandLink
				actionListener="#{activityDetailsBean.openDelegateDialog}"
				disabled="#{!activityDetailsBean.delegable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarDelegate" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/process-history/delegate.png"
					styleClass="toolbar-button #{!activityDetailsBean.delegable ? 'iceCmdBtn-dis' : ''}"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.delegate']}" />
			</ice:commandLink>

			<ice:commandLink actionListener="#{activityDetailsBean.abortAction}"
				immediate="true" disabled="#{!activityDetailsBean.abortable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarAbort" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/cross.png"
					styleClass="toolbar-button #{!activityDetailsBean.abortable ? 'iceCmdBtn-dis' : ''}"
					style="margin-right:-2px;padding-right:-2px;" title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.abort']}" />
			</ice:commandLink>
			<ice:panelGroup>
				<ice:commandLink
					action="#{activityDetailsBean.toggleSwitchProcessIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{views_common_msgPropsBean['views.abortProcess.menu.tooltip']}"
					disabled="#{!activityDetailsBean.abortableProcess}">
					<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSwitchJoin" standAlone="false"/>
					<ice:graphicImage style="padding:0px;"
						value="/plugins/views-common/images/icons/arrow.png"
						styleClass="#{!activityDetailsBean.abortableProcess ? 'iceCmdBtn-dis' : ''}" />
				</ice:commandLink>
				<div id="ippSwitchAnchor" style="width: 1px; height: 1px;"></div>
			</ice:panelGroup>

			<ice:panelGroup rendered="#{activityDetailsBean.caseEnabled}">
				<ice:commandLink
					action="#{activityDetailsBean.toggleCaseIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{views_common_msgPropsBean['views.case.tooltip.menu']}">
					<pc:automationTag value="auto-PP-ActivityPnl-ToolbarCase" standAlone="false"/>
					<ice:graphicImage style="padding:0px;"
						value="/plugins/views-common/images/icons/case-menu.png" />
				</ice:commandLink>
				<div id="ippCaseAnchor" style="width: 1px; height: 1px;"></div>
			</ice:panelGroup>

			<ice:commandLink action="#{spawnProcessDialogBean.openPopup}" rendered="#{activityDetailsBean.enableSpawnProcess}">								
				<ice:graphicImage
					value="/plugins/views-common/images/icons/cog_add.png"
					styleClass="toolbar-button #{activityDetailsBean.enableSpawnProcess ? '': 'iceCmdBtn-dis'}"
					title="#{views_common_msgPropsBean['views.spawnProcessDialog.title']}" />
				<f:param name="processInstanceOID"
					value="#{activityDetailsBean.activityInstance.processInstanceOID}" />					
			</ice:commandLink>
			
			<ice:commandLink action="#{ippPortalApp.openView}" immediate="true">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarProcDetails" standAlone="false"/>
				<ice:graphicImage
					value="/plugins/views-common/images/icons/process.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.processContextExplorer']}" />
				<f:param name="viewId" value="processInstanceDetailsView" />
				<f:param name="nested" value="true" />
				<f:param name="viewParams"
					value="processInstanceOID=#{activityDetailsBean.activityInstance.processInstanceOID}&amp;processInstanceName=#{activityDetailsBean.activityInstance.processInstance.processName}" />
			</ice:commandLink>
		</ice:panelGrid>
		
	</ice:panelGrid>
</f:view>