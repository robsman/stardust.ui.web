<f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">

	<ice:panelGrid columns="2" cellpadding="0" cellspacing="0"
		rendered="#{ippActivityPanelController.loadSuccessful}">

		<ice:panelGroup styleClass="toolbarGroupLeft"
			style="padding-left:2px; margin-left:4px; margin-right:4px"
			rendered="#{activityDetailsBean.showAssemblyLinePushServiceControls}">
			<ice:commandLink
				action="#{activityDetailsBean.toggleAssemblyLinePushService}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarAssemblyFeeds"
					standAlone="false" />
				<ice:graphicImage
					rendered="#{activityDetailsBean.assemblyLinePushService}"
					value="/plugins/views-common/images/icons/lightning_delete.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.disableAssemblyLineFeedIn']}" />
				<ice:graphicImage
					rendered="#{not activityDetailsBean.assemblyLinePushService}"
					value="/plugins/views-common/images/icons/lightning.png"
					styleClass="toolbar-button"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.enableAssemblyLineFeedIn']}" />
			</ice:commandLink>
		</ice:panelGroup>
		<ice:panelGrid columns="14">
			<ice:panelGroup
				rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesVisible}">
				<ice:commandLink disabled="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesDisabled}"
					action="#{activityDetailsBean.toggleQualityAssuranceCodesIframePopup}"
					style="padding:0px;"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaCodes']}">
					<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QACodes"
						standAlone="false" />
					<ice:graphicImage style="padding-right:5px;" styleClass="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceCodesDisabled ? 'iceCmdBtn-dis' : ''}"
						value="/plugins/views-common/images/icons/wrench_exclamation_menu.png" />
				</ice:commandLink>
				<div id="ippQualityAssuranceCodesAnchor" style="width: 1px; height: 1px;"></div>
				<td class="toolbarGroupRight" style="padding-left: 0px;" />
			</ice:panelGroup>

			<ice:commandLink rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				action="#{activityDetailsBean.completeQualityAssurancePass}">
				<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QAPass" standAlone="false"/>
				<ice:outputText
					styleClass="pi pi-qa-passed icong-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaPass']}" />
			</ice:commandLink>
			
			<ice:commandLink rendered="#{activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				action="#{activityDetailsBean.completeQualityAssuranceFail}">
				<pc:automationTag value="auto-PP-ActivityPnl-Toolbar-QAFail" standAlone="false"/>
				<ice:outputText
					styleClass="pi pi-qa-failed icong-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.qaFail']}" />
			</ice:commandLink>
			
			<ice:commandLink rendered="#{!activityDetailsBean.qaCodeIframeBean.qualityAssuranceActivityInstance}"
				actionListener="#{activityDetailsBean.completeAction}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarComplete" standAlone="false"/>
				<ice:outputText
					styleClass="pi pi-activity-complete icon-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.complete']}" />
			</ice:commandLink>

			<ice:commandLink
				actionListener="#{activityDetailsBean.suspendAction}"
				immediate="true">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSuspend" standAlone="false"/>
                <ice:outputText
					style="padding :0px;margin:0px;"
					styleClass="pi pi-undo icon-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspend']}"/>
					
				<ice:commandLink
					action="#{activityDetailsBean.toggleSuspendActivityIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendMenu']}" >
					<ice:outputText style="padding:0px;margin:0px;width:11px;"
						styleClass="pi-menu-dropdown" />
				</ice:commandLink>
				<div id="ippSuspendAnchor" style="width: 1px; height: 1px;"></div>
			</ice:commandLink>

			<ice:commandLink actionListener="#{activityDetailsBean.saveAction}"
				disabled="#{activityDetailsBean.qualityAssuranceActivity}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSave"
					standAlone="false" />
				<ice:graphicImage
					value="/plugins/views-common/images/icons/clock_save.png"
					style="padding :0px;margin:0px;"
					styleClass="toolbar-button #{activityDetailsBean.qualityAssuranceActivity ? 'iceCmdBtn-dis' : 'toolbar-button-suspend-save'}"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendAndSave']}" />
			</ice:commandLink>

				<ice:commandLink
					action="#{activityDetailsBean.toggleSaveActivityIframePopup}" disabled="#{activityDetailsBean.qualityAssuranceActivity}"
					style="padding:0px;" immediate="true"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.suspendSaveMenu']}" >
					<ice:outputText style="padding:0px;width:11px;"
					styleClass="#{activityDetailsBean.qualityAssuranceActivity ? 'iceCmdBtn-dis' : ''} pi-menu-dropdown" />
				</ice:commandLink>
				<div id="ippSaveActivityAnchor" style="width: 1px; height: 1px;"></div>

			<ice:commandLink
				actionListener="#{activityDetailsBean.resubmitAction}"
				immediate="true" rendered="#{activityDetailsBean.resubmitable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarResubmit" standAlone="false"/>
				<ice:outputText
					styleClass="pi pi-resubmit icon-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.resubmit']}" />
			</ice:commandLink>
			
			<ice:commandLink
				actionListener="#{activityDetailsBean.openDelegateDialog}"
				disabled="#{!activityDetailsBean.delegable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarDelegate" standAlone="false"/>
				<ice:outputText
					styleClass="#{!activityDetailsBean.delegable ? 'iceCmdBtn-dis' : ''} pi pi-badge-portrait pi-fw pi-activity-delegate icon-lg pi-left pi-top"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.delegate']}">
					<h:outputText styleClass="pi pi-badge-icon pi-badge-icon-arrow-r" title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.delegate']}" />	
				</ice:outputText>
			</ice:commandLink>

			<ice:commandLink actionListener="#{activityDetailsBean.abortAction}"
				immediate="true" disabled="#{!activityDetailsBean.abortable}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarAbort" standAlone="false"/>
				<ice:outputText
					styleClass="#{!activityDetailsBean.abortable ? 'iceCmdBtn-dis' : ''} pi pi-activity-abort icon-lg"
					style="margin-right:-2px;padding-right:-2px;" title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.abort']}" />
			</ice:commandLink>

			<ice:commandLink
				action="#{activityDetailsBean.toggleSwitchProcessIframePopup}"
				style="padding:0px;" immediate="true"
				title="#{views_common_msgPropsBean['views.abortProcess.menu.tooltip']}"
				disabled="#{!activityDetailsBean.abortableProcess}">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarSwitchJoin" standAlone="false"/>
				<ice:outputText style="padding:0px;"
					styleClass="#{!activityDetailsBean.abortableProcess ? 'iceCmdBtn-dis' : ''} pi-menu-dropdown" />
			</ice:commandLink>
			<div id="ippSwitchAnchor" style="width: 1px; height: 1px;"></div>

			<ice:commandLink action="#{activityDetailsBean.openRelocationDialog}"
				rendered="#{activityDetailsBean.relocationSource}"
				immediate="true" >
				<ice:outputText
					styleClass="pi pi-rotate-right icon-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.relocation.relocate']}" />
			</ice:commandLink>

			<ice:panelGroup rendered="#{activityDetailsBean.caseEnabled}">
				<ice:commandLink
					action="#{activityDetailsBean.toggleCaseIframePopup}"
					style="padding:0px;" immediate="true"
					title="#{views_common_msgPropsBean['views.case.tooltip.menu']}">
					<pc:automationTag value="auto-PP-ActivityPnl-ToolbarCase" standAlone="false"/>
					<ice:outputText 
						styleClass="pi pi-case icon-lg">
						<ice:outputText styleClass="pi-menu-dropdown icon-sm" />
					</ice:outputText>
				</ice:commandLink>
				<div id="ippCaseAnchor" style="width: 1px; height: 1px;"></div>
			</ice:panelGroup>

			<ice:commandLink action="#{spawnProcessDialogBean.openPopup}" rendered="#{activityDetailsBean.enableSpawnProcess}">								
				<ice:outputText
					styleClass="#{activityDetailsBean.enableSpawnProcess ? '': 'iceCmdBtn-dis'} pi pi-process icon-lg"
					title="#{views_common_msgPropsBean['views.spawnProcessDialog.title']}">
					<h:outputText styleClass="pi pi-plus-sign pi-bottom pi-right icon-sm" title="#{views_common_msgPropsBean['views.spawnProcessDialog.title']}"/>	
				</ice:outputText>
				<f:param name="processInstanceOID"
					value="#{activityDetailsBean.activityInstance.processInstanceOID}" />					
			</ice:commandLink>
			
			<ice:commandLink action="#{ippPortalApp.openView}" immediate="true">
				<pc:automationTag value="auto-PP-ActivityPnl-ToolbarProcDetails" standAlone="false"/>
				<ice:outputText
					styleClass="pi pi-process icon-lg"
					title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.processContextExplorer']}">
					<h:outputText styleClass="pi pi-information pi-bottom pi-right icon-sm" title="#{processportal_msgPropsBean['toolbars.workflowActions.tooltip.processContextExplorer']}"/>	
				</ice:outputText>
				<f:param name="viewId" value="processInstanceDetailsView" />
				<f:param name="nested" value="true" />
				<f:param name="viewParams"
					value="processInstanceOID=#{activityDetailsBean.activityInstance.processInstanceOID}&amp;processInstanceName=#{activityDetailsBean.activityInstance.processInstance.processName}" />
			</ice:commandLink>
		</ice:panelGrid>
		
	</ice:panelGrid>
</f:view>