<f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">

	<ice:panelGroup>
		<ui:include src="/plugins/views-common/dialogs/delegation.xhtml" />
		<ui:include
			src="/plugins/processportal/views/worklistConfiguration/selectProcessPopup.xhtml" />
		<ui:include
			src="/plugins/processportal/views/worklistConfiguration/worklistcolumnSelector.xhtml" />
	</ice:panelGroup>

	<ice:panelGroup rendered="#{ippPortalApp.loggedInUser.administrator}">
		<ui:include
			src="/plugins/common/views/dialog/confirmationDialog.xhtml">
			<ui:param name="dialogBean"
				value="#{worklistConfigurationBean.worklistConfirmationDialog}" />
		</ui:include>
		<ice:panelGroup styleClass="heading">
			<ice:outputText value="#{processportal_msgPropsBean['views.worklistPanelConfiguration.filterProviders.title']}" />
		</ice:panelGroup>
	
		<ice:panelGrid columns="2">
			<ice:outputLabel styleClass="label-form"
				value="#{processportal_msgPropsBean['views.worklistPanelConfiguration.filterProviders.filterProviderList']}" />
			<ice:inputTextarea cols="65" rows="4" partialSubmit="true" 
				value="#{worklistConfigurationBean.configFilterProviders}">
				<pc:automationTag value="auto-PP-WorklistPnlConf-FilterProvList" standAlone="false" />
			</ice:inputTextarea>	
		</ice:panelGrid>
	
		<ice:panelGroup styleClass="clearing" />

		<pc:genericDataTable exportCsv="false" exportExcel="false"
			title="#{processportal_msgPropsBean['views.worklistPanelConfiguration.participantTable']}"
			bean="#{worklistConfigurationBean.participantWorklistConfBean}"
			table="#{worklistConfigurationBean.participantWorklistConfBean.columnConfigurationTable}"
			sortSupported="true" 
			toolbarUrl="/plugins/processportal/toolbar/WorklistConfigurationToolbar.xhtml" />

		<ice:panelGroup styleClass="clearing" />
		
		<pc:genericDataTable exportExcel="false" exportCsv="false"
			title="#{processportal_msgPropsBean['views.worklistPanelConfiguration.processTable']}"
			bean="#{worklistConfigurationBean.processWorklistConfBean}"
			table="#{worklistConfigurationBean.processWorklistConfBean.columnConfigurationTable}"
			sortSupported="true" 
			toolbarUrl="/plugins/processportal/toolbar/WorklistConfigurationToolbar.xhtml" />

		<ice:panelGroup styleClass="clearing" />
		
		<ice:panelGrid columns="2" style="text-align: left">
			<pc:automationTag value="auto-PP-WorklistPnlConf-BtnsBar" standAlone="false" />
			<ice:commandButton
				value="#{common_msgPropsBean['views.configurationPanel.button.save']}"
				action="#{worklistConfigurationBean.save}"
				partialSubmit="true" styleClass="button" />
			
			<ice:commandButton
				value="RELOAD"
				action="#{worklistConfigurationBean.reload}"
				partialSubmit="true" styleClass="button" />	 
				
			<ice:commandButton
				value="#{common_msgPropsBean['views.configurationPanel.button.reset']}"
				action="#{worklistConfigurationBean.openConfirmationDialog}"
				partialSubmit="true" styleClass="button" />
		</ice:panelGrid>
	</ice:panelGroup>
	<ice:panelGroup rendered="#{not ippPortalApp.loggedInUser.administrator}">
		<ice:outputText value="#{processportal_msgPropsBean['views.worklistPanelConfiguration.noAuthorization']}"/>
	</ice:panelGroup>
</f:view>