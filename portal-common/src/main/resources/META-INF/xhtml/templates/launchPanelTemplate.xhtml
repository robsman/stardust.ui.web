<f:view xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">

		<ice:panelGroup styleClass="panelHeader" rendered="#{!showRefreshLink}">
		<!-- ***** Documentation for Generic launchpanel *****
		# Attributes ('*' indicates mandatory attributes)
		bean* = Instance of class extending AbstractLaunchPanel 
		title* = Title of the launchpanel
		collapsible* = true/false.
		showRefreshLink = true/false. Default false
		automationTag=automationTag value for the header tag
		-->
		 <ice:commandLink action="#{bean.toggle}" rendered="#{collapsible}">
		 <c:if test="${automationTag!=null}">
		 	<pc:automationTag value="#{automationTag}" standAlone="false"/>
		 </c:if>
			<ice:panelGrid columns="3">
				<ice:graphicImage rendered="#{!bean.expanded}"
					value="/plugins/common/images/panelHeader-triggerExpand.png"
					style="border: none" />
				<ice:graphicImage rendered="#{bean.expanded}"
					value="/plugins/common/images/panelHeader-triggerCollapse.png"
					style="border: none" />
				<ice:outputText styleClass="panelHeaderTitle" value="#{title}" />
			</ice:panelGrid>
		</ice:commandLink> 
		<ice:outputText styleClass="panelHeaderTitle"
			value="#{title}" rendered="#{!collapsible}"/>
		</ice:panelGroup>
		<ice:panelGrid columns="2" width="100%" rendered="#{showRefreshLink}" cellpadding="0" cellspacing="0">
			<ice:panelGroup styleClass="panelHeader">
				<ice:commandLink action="#{bean.toggle}">
				<c:if test="${automationTag!=null}">
					<pc:automationTag value="#{automationTag}" standAlone="false"/>
				</c:if>
					<ice:panelGrid columns="3">
						<ice:graphicImage rendered="#{!bean.expanded}"
						value="/plugins/common/images/panelHeader-triggerExpand.png"
						style="border: none" />
						  <ice:graphicImage rendered="#{bean.expanded}"
						value="/plugins/common/images/panelHeader-triggerCollapse.png"
						style="border: none" /> 
						<ice:outputText styleClass="panelHeaderTitle" value="#{title}" />
							</ice:panelGrid>
				</ice:commandLink>
			</ice:panelGroup>
			<ice:panelGroup styleClass="panelHeader" style="text-align:right">
			  <ice:commandLink title="#{messages_bcc['views.common.refresh']}"
		            action="#{bean.update}" partialSubmit="true" rendered="#{bean.expanded}" style="vertical-align: bottom;">
				<ice:graphicImage value="/plugins/common/images/icons/arrow_refresh.png"/>
			  </ice:commandLink>
			</ice:panelGroup> 
		</ice:panelGrid>
</f:view>
