<f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">

	<ice:panelGroup styleClass="contentContainer">

		<!-- ***** NORMAL SCREEN MODE ***** -->
		<c:if test="#{!ippPortalApp.fullScreenModeActivated}">
			<table cellspacing="0" cellpadding="0" border="0" style="width: 100%; height: 100%">
				<tr>
					<c:if test="#{ippPortalApp.launchPanelsActivated}">
						<td class="leftContentTd">
							<ui:include src="portalLaunchPanels.xhtml" />
						</td>
					</c:if>
					<td class="rightContentTd">
						<ui:include src="portalToolbar.xhtml" />
						<ui:include src="portalBreadCrumb.xhtml" />
						<div class="content">
							<f:subview id="subView">
								<ice:panelGroup>
									<ice:form partialSubmit="false">
										<ui:include src="portalViewToolbar.xhtml" />
										<c:if test="#{not ippPortalApp.pinViewOpened}">
											<ui:include src="portalTabDisplayMode.xhtml" />
										</c:if>
										<c:if test="#{ippPortalApp.pinViewOpened}">
											<ui:include src="portalPinViewDisplayMode.xhtml" />
										</c:if>
									</ice:form>
								</ice:panelGroup>
							</f:subview>
						</div>
					</td>
				</tr>
			</table>
		</c:if>

		<!-- ***** FULL SCREEN MODE ***** -->
		<c:if test="#{ippPortalApp.fullScreenModeActivated}">
			<ui:include src="portalToolbar.xhtml" />
			<ice:form partialSubmit="false">
				<ui:include src="portalViewToolbar.xhtml" />
				<table cellpadding="0" cellspacing="0" style="width: 100%;border-bottom: 1px solid #dbdbdb;">
					<tr style="border-bottom: 1px solid #dbdbdb;" class="panel-header-selected">
						<td style="white-space: nowrap">
							<ice:outputText value="#{ippPortalApp.focusView.fullLabel}" />
						</td>
	
						<!-- Filler TD -->
						<td style="width: 100%" />
	
						<td style="text-align: right; white-space: nowrap">
							<ice:panelGroup styleClass="toolbarGroupRight">
								<pc:automationTag value="auto-FW-ToolbarBtnsCloseFullScreen" standAlone="false" />
								<ice:commandButton
									image="/plugins/common/images/icons/tab-bttn-minimize.png"
									action="#{ippPortalApp.deactivateFullScreenMode}"
									styleClass="toolbar-button"
									title="#{common_msgPropsBean['portalFramework.view.closeFullScreen']}" />
							</ice:panelGroup>
						</td>
					</tr>
				</table>
				<ice:panelGroup styleClass="contentFullScreen">
					<pc:tabScoped currentTab="#{ippPortalApp.activeView}">
						<ui:include src="portalUserDefinedInclude.xhtml">
							<ui:param name="includeFilePath" value="#{ippPortalApp.activeView.path}" />
						</ui:include>
					</pc:tabScoped>
				</ice:panelGroup>
			</ice:form>
		</c:if>
		<div id="ippPortalEndContent"></div>
	</ice:panelGroup>

</f:view>