<div sg-stretch-to-bottom class="view-panel">
	<div class="ng-hide" ng-show="true" ng-controller="sdDocumentSearchViewCtrl as docSearchViewCtrl">
		<div class="heading"
			ng-click="docSearchViewCtrl.setShowDocumentSearchCriteria()"
			aid="COM-SrchDoc-ShowHideCriteria">
			<i ng-show="docSearchViewCtrl.showDocumentSearchCriteria"
				class="pi pi-trigger-expanded pi-lg"></i> 
			<i ng-show="!docSearchViewCtrl.showDocumentSearchCriteria"
				class="pi pi-trigger-collapsed pi-lg"></i> 
			<span>{{i18n('views-common-messages.views-documentSearchView-documentSearchCriteria-label')}}</span>
		</div>
		<div ng-show="docSearchViewCtrl.showDocumentSearchCriteria">
			<form name="docSearchViewCtrl.searchCriteriaForm">
				<table class="searchTableLayout">
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-createDate-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><div sd-date-time-condensed 
								ng-model-onblur
								ng-model="docSearchViewCtrl.query.documentSearchCriteria.createDateFrom"
								name="createDateFrom"
								sda-aid-prefix="COM-SrchDoc-CreateDateFrom"></div>
							<div class="msg-error"
								ng-show="docSearchViewCtrl.searchCriteriaForm.createDateFrom.$error.validate">
								{{i18n('html5-common.date-error')}}</div></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-createDateTo-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><div sd-date-time-condensed ng-model-onblur
								name="createDateTo"
								ng-model="docSearchViewCtrl.query.documentSearchCriteria.createDateTo"
								sda-aid-prefix="COM-SrchDoc-CreateDateTo"></div>
							<div class="msg-error"
								ng-show="docSearchViewCtrl.searchCriteriaForm.createDateTo.$error.validate">
								{{i18n('html5-common.date-error')}}</div></td>
					</tr>
					<tr>
						<td></td>
						<td class="msg-error"
							ng-show="docSearchViewCtrl.searchCriteriaForm.$error.createDateRange">
							{{i18n('portal-common-messages.common-filterPopup-betweenFilter-message-rangeNotValid')}}
						</td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-modificationDate-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><div sd-date-time-condensed ng-model-onblur
								name="modificationDateFrom"
								ng-model="docSearchViewCtrl.query.documentSearchCriteria.modificationDateFrom"
								sda-aid-prefix="COM-SrchDoc-ModificationDateFrom"></div>
							<div class="msg-error"
								ng-show="docSearchViewCtrl.searchCriteriaForm.modificationDateFrom.$error.validate">
								{{i18n('html5-common.date-error')}}</div></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-modificationDateTo-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><div sd-date-time-condensed ng-model-onblur
								name="modificationDateTo"
								ng-model="docSearchViewCtrl.query.documentSearchCriteria.modificationDateTo"
								sda-aid-prefix="COM-SrchDoc-ModificationDateTo"></div>
							<div class="msg-error"
								ng-show="docSearchViewCtrl.searchCriteriaForm.modificationDateTo.$error.validate">
								{{i18n('html5-common.date-error')}}</div></td>
					</tr>
					<tr>
						<td></td>
						<td class="msg-error"
							ng-show="docSearchViewCtrl.searchCriteriaForm.$error.modificationDateRange">
							{{i18n('portal-common-messages.common-filterPopup-betweenFilter-message-rangeNotValid')}}
						</td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-documentType-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><select multiple="multiple"
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.selectedDocumentTypes"
							name="txtDocumentType"
							style="height: 75px; width: 210px; align: center;"
							ng-options="opt.value as opt.label for opt in docSearchViewCtrl.documentTypes"
							aid="COM-SrchDoc-DocumentTypesSel">
						</select></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-fileType-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td>
							<table
								ng-show="!docSearchViewCtrl.query.documentSearchCriteria.selectFileTypeAdvance">
								<tr>
									<td><input type="checkbox"
										ng-model="docSearchViewCtrl.query.documentSearchCriteria.showAll"
										ng-change="docSearchViewCtrl.getFileTypes()"
										aid="COM-SrchDoc-FileType-ShowAll" /> 
										<label class="label-item" style="vertical-align: middle;">{{i18n('views-common-messages.views-documentSearchView-showAll-label')}}</label>
									</td>
									<td><a href="#"
										ng-click="docSearchViewCtrl.advancedFileTypes()"
										style="margin-left: 70px; vertical-align: super;" aid="COM-SrchDoc-FileType-Advanced">{{i18n('views-common-messages.views-documentSearchView-advanced-label')}}&nbsp;&raquo;</a></td>
								</tr>
							</table>
							<table
								ng-show="docSearchViewCtrl.query.documentSearchCriteria.selectFileTypeAdvance">
								<tr>
									<td width="30px"></td>
									<td><a href="#"
										ng-click="docSearchViewCtrl.pickFromList()"
										style="margin-left: 70px"
										aid="COM-SrchDoc-FileType-SelFrmList">
											{{i18n('views-common-messages.views-documentSearchView-pickFromList-label')}}&nbsp;&raquo;</a></td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<td></td>
						<td
							ng-show="!docSearchViewCtrl.query.documentSearchCriteria.selectFileTypeAdvance">
							<select multiple="multiple"
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.selectedFileTypes"
							style="height: 75px; width: 210px; align: center;"
							ng-options="opt.value as opt.label for opt in docSearchViewCtrl.fileTypes"
							aid="COM-SrchDoc-FileType-TypeSel">
						</select>
						</td>
						<td
							ng-show="docSearchViewCtrl.query.documentSearchCriteria.selectFileTypeAdvance">
							<input type="text"
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.advancedFileType"
							value="{{docSearchViewCtrl.query.documentSearchCriteria.advancedFileType}}"
							aid="COM-SrchDoc-FileType-AdvFileType" />
						</td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-containingText-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td>
							<table>
								<tr>
									<td><input type="checkbox"
										ng-model="docSearchViewCtrl.query.documentSearchCriteria.searchContent"
										aid="COM-SrchDoc-ContTxt-SrchContent" />
										<label class="label-item" style="vertical-align: middle;">{{i18n('views-common-messages.views-documentSearchView-searchContent-label')}}</label>
									</td>
									<td><input type="checkbox"
										ng-model="docSearchViewCtrl.query.documentSearchCriteria.searchData"
										aid="COM-SrchDoc-ContTxt-SrchData" />
										<label class="label-item" style="vertical-align: middle;">{{i18n('views-common-messages.views-documentSearchView-searchData-label')}}</label>
									</td>
									<td><a href="#"
										ng-click="docSearchViewCtrl.setShowAdvancedTextSearch()"
										aid="COM-SrchDoc-ContTxt-AdvTxtSrch"
										style="vertical-align: super;">
											{{i18n('views-common-messages.views-documentSearchView-advanced-label')}}&nbsp;&raquo; </a></td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<td></td>
						<td><textarea
								ng-model="docSearchViewCtrl.query.documentSearchCriteria.containingText"
								aid="COM-SrchDoc-ContTxt" cols="20" rows="2"
								style="width: 260px"></textarea></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-author-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><div sd-user-selector
								sda-selected-data="docSearchViewCtrl.selectedAuthors"
								sda-active-only="true" sda-multiple="false" sda-max="20"
								sda-aid-prefix="COM-SrchDoc"></div></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-documentName-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><input type="text"
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.documentName"
							value="{{docSearchViewCtrl.query.documentSearchCriteria.documentName}}"
							aid="COM-SrchDoc-DocName" /></td>
					</tr>
					<tr>
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-documentId-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><input type="text" ng-model-onblur
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.documentId"
							value="{{docSearchViewCtrl.query.documentSearchCriteria.documentId}}"
							aid="COM-SrchDoc-DocId" /></td>
					</tr>
					<tr ng-show="docSearchViewCtrl.repositories.length>1">
						<td><label class="label-item">{{i18n('views-common-messages.views-documentSearchView-repository-label')
								+ i18n('views-common-messages.views-documentSearchView-colon')}}</label>
						</td>
						<td><select multiple="multiple"
							ng-model="docSearchViewCtrl.query.documentSearchCriteria.selectedRepository"
							style="height: 75px; width: 210px; align: center;"
							ng-options="opt.value as opt.label for opt in docSearchViewCtrl.repositories"
							aid="COM-SrchDoc-RepoSel">
						</select></td>
					</tr>
				</table>
			</form>
			<table class="searchTableLayout">
				<tbody>
					<tr>
						<td><input class="button" type="submit"
							value="{{i18n('views-common-messages.views-documentSearchView-button-searchDocuments')}}"
							ng-click="docSearchViewCtrl.validateSearchCriteria()"
							aid="COM-SrchDoc-BtnSearch"></td>
						<td><input type="submit" class="button secondary"
							value="{{i18n('views-common-messages.common-reset')}}"
							ng-click="docSearchViewCtrl.resetSearchCriteria()"
							aid="COM-SrchDoc-BtnReset"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div sd-dialog sd-show-overlay="true"
			sda-show="docSearchViewCtrl.showAdvancedTextSearch"
			sda-type="confirm"
			sda-title="{{i18n('views-common-messages.views-documentSearchView-advancedTextSearch-label')}}"
			sda-scope="this"
			sda-template="plugins/html5-views-common/html5/partials/views/advancedTextSearch.html"
			sda-on-confirm="docSearchViewCtrl.onConfirmFromAdvanceText(res)"
			sda-on-close="docSearchViewCtrl.onCancelFromAdvanceText(res)"
			sda-width="800px" sda-aid-prefix="COM-AdvSrchDlg"></div>
		<div ng-show="docSearchViewCtrl.showDocumentSearchResult"
			ng-include="'plugins/html5-views-common/html5/partials/views/documentSearchResult.html'">
		</div>
	</div>
</div>	
