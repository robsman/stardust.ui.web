<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">
<head>
<link
	href='http://fonts.googleapis.com/css?family=Lato:400,700,300italic,400italic'
	rel='stylesheet' type='text/css' />
<link
	href="../../business-object-management/css/font-awesome-4.1.0/css/font-awesome.css"
	rel="stylesheet"></link>
<link href="../../simple-modeler/css/stardust-modern.css"
	rel="stylesheet" type="text/css"></link>
<title>Business Object Management</title>
</head>
<body>
	<div class="propertiesPage">
		<table>
			<tr>
				<td><label>Primary Key Field
						{{elementView.propertiesPage.propertiesPanel.data.attributes['carnot:engine:primaryKey']}}</label></td>
				<td><select
					ng-model="elementView.propertiesPage.propertiesPanel.data.attributes['carnot:engine:primaryKey']"
					ng-options="field.name as field.name for field in elementView.propertiesPage.topLevelFields"
					ng-change="elementView.propertiesPage.updatePrimaryKey('carnot:engine:primaryKey', elementView.propertiesPage.propertiesPanel.data.attributes['carnot:engine:primaryKey'])"><option
							value="">Please select ...</option></select></td>
				<td><p style="margin-left: 5px;">Selecting a Primary Key
						Field will enable this Data to be used as a Business Object.</p></td>
			</tr>
		</table>
		<div class="heading">Object Relationships</div>
		<table class="dataTable">
			<thead>
				<tr>
					<th></th>
					<th>Other Business Object</th>
					<th>Other Role</th>
					<th>Other Cardinality</th>
					<th>Reference to Other Object</th>
					<th>This Role</th>
					<th>Other Cardinality</th>
					<th>Reference to this Object</th>
				</tr>
			</thead>
			<tbody>
				<tr
					ng-repeat="relationship in elementView.propertiesPage.relationships">
					<td><a href="#" class="iconLink"
						ng-click="elementView.propertiesPage.removeRelationship($index)">-<i
							class="fa fa-minus"></i></a></td>
					<td><select ng-model="relationship.otherBusinessObjectFullId"
						ng-options="businessObject.fullId as businessObject.label for businessObject in elementView.propertiesPage.otherBusinessObjects"
						ng-change="elementView.propertiesPage.submitRelationshipChanges(relationship)"><option
								value="">Please select ...</option></select></td>
					<td><input ng-model="relationship.otherRole"
						ng-blur="elementView.propertiesPage.submitRelationshipChanges(relationship)"></input></td>
					<td><select ng-model="relationship.otherCardinality"
						ng-change="elementView.propertiesPage.submitRelationshipChanges(relationship)">
							<option value="TO_ONE">To One</option>
							<option value="TO_MANY">To Many</option>
					</select></td>
					<td><select ng-model="relationship.foreignKeyField"
						ng-options="field.name as field.name for field in elementView.propertiesPage.topLevelFields"
						ng-change="elementView.propertiesPage.submitRelationshipChanges(relationship)"><option
								value="">Please select ...</option></select></td>
					<td><input ng-model="relationship.thisRole"
						ng-blur="elementView.propertiesPage.submitRelationshipChanges(relationship)"></input></td>
					<td><select ng-model="relationship.thisCardinality"
						ng-change="elementView.propertiesPage.submitRelationshipChanges(relationship)">
							<option value="TO_ONE">To One</option>
							<option value="TO_MANY">To Many</option>
					</select></td>
					<td><select ng-model="relationship.foreignKeyField"
						ng-options="field.name as field.name for field in elementView.propertiesPage.topLevelFields"
						ng-change="elementView.propertiesPage.submitRelationshipChanges(relationship)"><option
								value="">Please select ...</option></select></td>
				</tr>
				<tr>
					<td><a href="#" class="iconLink"
						ng-click="elementView.propertiesPage.addRelationship()">+<i
							class="fa fa-plus"></i></a></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>