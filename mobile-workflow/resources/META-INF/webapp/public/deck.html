<!-- 
* Copyright (c) 2011 SunGard CSA LLC and others. All rights reserved. This
 * program and the accompanying materials are made available under the terms of
 * the Eclipse Public License v1.0 which accompanies this distribution, and is
 * available at http://www.eclipse.org/legal/epl-v10.html
 * 
 * Contributors: SunGard CSA LLC - initial API and implementation and/or initial
 * documentation
 -->
<!DOCTYPE HTML>
<html>
<head>
<title>Mobile Workflow</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://view.jquerymobile.com/1.3.1/dist/demos/css/themes/default/jquery.mobile.min.css" />
<style>
.nav-glyphish-example .ui-btn .ui-btn-inner {
	padding-top: 40px !important;
}

.nav-glyphish-example .ui-btn .ui-icon {
	width: 30px !important;
	height: 30px !important;
	margin-left: -15px !important;
	box-shadow: none !important;
	-moz-box-shadow: none !important;
	-webkit-box-shadow: none !important;
	-webkit-border-radius: 0 !important;
	border-radius: 0 !important;
}

.logoutLink .ui-icon {
	background: url(images/logout.png) 50% 50% no-repeat;
	background-size: 18px 19px;
}

.backLink .ui-icon {
	background: url(images/back.png) 50% 50% no-repeat;
	background-size: 18px 19px;
}

.completeLink .ui-icon {
	background: url(images/complete.png) 50% 50% no-repeat;
	background-size: 18px 19px;
}

.suspendLink .ui-icon {
	background: url(images/suspend.png) 50% 50% no-repeat;
	background-size: 24px 26px;
}

.delegateLink .ui-icon {
	background: url(images/delegate.png) 50% 50% no-repeat;
	background-size: 24px 26px;
}

.processLink .ui-icon {
	background: url(images/process.png) 50% 50% no-repeat;
	background-size: 26px 28px;
}

.notesLink .ui-icon {
	background: url(images/notes.png) 50% 50% no-repeat;
	background-size: 14px 26px;
}

.noteLink .ui-icon {
	background: url(images/note.png) 50% 50% no-repeat;
	background-size: 23px 23px;
}
</style>
<script type="text/javascript" data-main="js/MobileWorkflowMain"
	src="./js/libs/require/2.0.5/require.js"></script>
</head>
<body style="height: 100%;">
	<div id="deck" ng-controller="deck" sd-deck>
		<div id="loginPage" data-role="page" data-theme="a">
			<div>
				<div data-role="header" data-position="fixed">
					<h1>Mobile Workflow Login</h1>
				</div>
				<div data-role="content">
					<form data-role="fieldcontain">
						<label for="loginPage-accountInput">Account:</label> <input
							id="loginPage-accountInput" ng-model="getTopPage().account"
							type="text"> <label for="loginPage-passwordInput">Password:</label>
						<input id="loginPage-passwordInput" type="password"
							ng-model="getTopPage().password">
					</form>

					<a id="loginPage-loginButton" href="#" data-role="button"
						ng-click="getTopPage().login()">Login</a>

					<div data-role="popup" id="errorPopup" class="ui-btn-right">
						<a href="#" data-rel="back" data-role="button" data-theme="a"
							data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
						<p>User or password is incorrect.
						<p>
					</div>
				</div>
			</div>
		</div>
		<div id="dashboardPage" data-role="page" data-theme="a">
			<div data-role="header" data-position="fixed"
				class="nav-glyphish-example">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d"
					data-theme="b">
					<ul>
						<li><a href="#" class="logoutLink" data-icon="custom"
							ng-click="getTopPage().logout()">Logout</a></li>
					</ul>
				</div>
				<h1>Mobile Workflow Dashboard</h1>
			</div>
			<div data-role="content">
				<ul data-role="listview" data-count-theme="c" data-inset="true">
					<a href="#" data-role="button"
						ng-click="getTopPage().openWorklistPage()">Worklist <span
						class="ui-li-count">{{dashboardPage.worklistSize}}</span>
					</a>
					<a href="#" data-role="button"
						ng-click="getTopPage().openStartableProcessesPage()">Startable
						Processes</a>
					<a href="#" data-role="button"
						ng-click="getTopPage().openSearchPage()"> Search Processes,
						Activities or Documents</a>
					<a href="#" data-role="button"
						ng-click="getTopPage().openReportsPage()">Reports</a>
					<a href="#" data-role="button"
						ng-click="getTopPage().openFolderPage()">Documents</a>
				</ul>
			</div>
		</div>
		<div id="startableProcessesPage" data-role="page" data-theme="a">
			<div data-role="header" data-position="fixed"
				class="nav-glyphish-example">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="backLink" data-icon="custom"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Startable Processes</h1>
			</div>
			<div data-role="content">
				<ul id="startableProcessList" data-role="listview"
					data-filter="true" sd-list="getTopPage().startableProcesses">
					<li ng-repeat="process in getTopPage().startableProcesses"><a
						id="{{process.id}}" ref="#"
						ng-click="getTopPage().startProcess(process)"><h4>
								{{process.name}}</h4>
							<p>{{process.description}}</p></a></li>
				</ul>
			</div>
		</div>
		<div id="worklistPage" data-role="page" data-theme="a">
			<div data-role="header" data-position="fixed"
				class="nav-glyphish-example">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="backLink" data-icon="custom"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Worklist</h1>
			</div>
			<div data-role="content">
				<ul data-role="listview" data-filter="true"
					sd-list="worklistPage.worklist">
					<li ng-repeat="activityInstance in worklistPage.worklist"><a
						href="#"
						ng-click="worklistPage.openActivityInstancePage(activityInstance)"><h4>{{activityInstance.activityName}}</h4>
							<p>
								{{formatDateTime(activityInstance.startTime)}}
								{{formatDateTime(activityInstance.lastModificationTime)}}<br>{{activityInstance.descriptors}}
							</p></a></li>
				</ul>
			</div>
		</div>
		<div id="activityInstancePage" data-role="page" data-theme="a">
			<div data-role="header" data-position="fixed"
				class="nav-glyphish-example">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="completeLink" data-icon="custom"
							ng-click="getTopPage().complete()">Complete</a></li>
						<li><a href="#" class="suspendLink" data-icon="custom"
							ng-click="getTopPage().openSuspendDialog()">Suspend</a></li>
						<li><a href="#" class="processLink" data-icon="custom"
							ng-click="getTopPage().openProcessPage()">Process</a></li>
						<li><a href="#" class="delegateLink" data-icon="custom"
							ng-click="getTopPage().delegate()">Delegate</a></li>
						<li><a href="#" class="notesLink" data-icon="custom"
							ng-click="getTopPage().openNotesPage()">Notes</a></li>
					</ul>
				</div>
				<h1 id="titleHeader">Activity</h1>
			</div>
			<div data-role="content">
				<div
					ng-show="getTopPage().activityInstance.activity.implementation == 'application'"
					style="background: none;">
					<iframe src="{{getExternalWebAppUrl()}}" frameborder="0"
						style="width: 100%; height: 100%; min-height: 600px; background: none;"
						height="150%" width="100%"></iframe>
				</div>
				<div
					ng-show="getTopPage().activityInstance.activity.implementation == 'manual'">
					Manual activities are not yet supported for Mobile Workflow.</div>
				<div data-role="popup" id="suspendConfirmationDialog"
					data-overlay-theme="a" data-theme="a" style="max-width: 400px;"
					class="ui-corner-all">
					<div data-role="header" data-theme="a" class="ui-corner-top">
						<h1>Suspend Activity</h1>
					</div>
					<div data-role="content" data-theme="d"
						class="ui-corner-bottom ui-content">
						<h3 class="ui-title">Are you sure you want to suspend this
							Activity.</h3>
						<a href="#" data-role="button" data-inline="true" data-rel="back"
							data-theme="c" ng-click="getTopPage().closeSuspendDialog()">Cancel</a>
						<a href="#" data-role="button" data-inline="true" data-rel="back"
							data-transition="flow" data-theme="b"
							ng-click="getTopPage().suspendActivityInstance()">Suspend</a>
					</div>
				</div>
			</div>
		</div>
		<div id="searchPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Search</h1>
			</div>
			<div data-role="content""></div>
		</div>
		<div id="folderPage" data-role="page" data-theme="a">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Folder</h1>
			</div>
			<div data-role="content"">
				<ul data-role="listview" data-filter="true"
					sd-list="getTopPage().folder.documents">
					<li ng-repeat="document in getTopPage().folder.documents"><a
						href="#" ng-click="getTopPage().openDocumentContentPage(document)">
							<h4>{{document.name}}</h4>
					</a></li>
				</ul>
				<ul data-role="listview" sd-list="getTopPage().folder.subFolders">
					<li ng-repeat="folder in getTopPage().folder.subFolders"><a
						href="#" ng-click="getTopPage().openFolderPage(folder)">
							<h4>{{folder.name}}</h4>
					</a></li>
				</ul>
			</div>
		</div>
		<div id="reportsPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="backLink" data-icon="custom"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Reports</h1>
			</div>
			<div data-role="content">
				<div ng-repeat="x in getTopPage().reportFolders.subFolders">
					<div data-role="collapsible">
						<h2>{{x.name}}</h2>
						<ul data-role="listview">
							<li ng-repeat="y in x.reportDefinitions"><a href="#"
								ng-click="getTopPage().openReportPage(y)">
									<h4>{{y.name}}</h4>
									<p>{{y.description}}</p>
							</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div id="reportPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Report</h1>
			</div>
			<div data-role="content" style="background: white;">
				<div style="text-align: center;">
					<iframe src="{{getTopPage().getReportUri()}}" frameborder="0"
						style="width: 100%; height: 100%; min-height: 600px; background: none;"
						height="150%" width="100%"></iframe>
				</div>
			</div>
		</div>
		<div id="processPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="backLink" data-icon="custom"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Process</h1>
			</div>
			<div data-role="content">
				<div data-role="collapsible">
					<h2>Data</h2>
					<table>
						<tr>
							<td>Name:</td>
							<td>{{getTopPage().processInstance.processName}}</td>
						</tr>
						<tr>
							<td>Start Time:</td>
							<td>{{getTopPage().processInstance.startTimestamp}}</td>
						</tr>
						<tr>
							<td>State:</td>
							<td>{{getTopPage().processInstance.state}}</td>
						</tr>
						<tr>
							<td>Priority:</td>
							<td>{{getTopPage().processInstance.priority}}</td>
						</tr>
						<tr ng-repeat="x in getTopPage().processInstance.descriptors">
							<td>{{x.name}}:</td>
							<td>{{x.value}}</td>
						</tr>
					</table>
				</div>
				<div data-role="collapsible">
					<h2>Documents</h2>
					<ul data-role="listview" data-theme="d" data-divider-theme="d">
						<li data-role="list-divider">Process Attachments</li>
						<li><a href="#">
								<h3>test.xls</h3>
								<p>Contains XLS.</p>
						</a></li>
						<li data-role="list-divider">Key Documents</li>
						<li><a href="#">
								<h3>Police Report</h3>
								<p>In preparation for the upcoming conference in Boston, we
									need to start gathering a list of sponsors and speakers.</p>
						</a></li>
					</ul>
				</div>
				<div data-role="collapsible">
					<h2>History</h2>
					<ul data-role="listview" data-split-icon="gear"
						data-split-theme="d">
						<li><a href="index.html">
								<h3>Broken Bells</h3>
								<p>Broken Bells</p>
						</a><a href="lists-split-purchase.html" data-rel="dialog"
							data-transition="slideup">Purchase album </a></li>
						<li><a href="index.html">
								<h3>Warning</h3>
								<p>Hot Chip</p>
						</a><a href="lists-split-purchase.html" data-rel="dialog"
							data-transition="slideup">Purchase album </a></li>
						<li><a href="index.html">
								<h3>Wolfgang Amadeus Phoenix</h3>
								<p>Phoenix</p>
						</a><a href="lists-split-purchase.html" data-rel="dialog"
							data-transition="slideup">Purchase album </a></li>
					</ul>
				</div>
				<div data-role="collapsible">
					<h2>Participants</h2>
					<ul data-role="listview"
						sd-list="processPage.processInstance.participants">
						<li ng-repeat="user in processPage.processInstance.participants"><a
							ng-click="processPage.openUserPage(user)">
								<h3>{{user.firstName}} {{user.lastName}} ({{user.id}})</h3>
								<p>E-Mail: {{user.e-Mail}}, Phone: +1 346 145 4577</p>
						</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="userPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>User</h1>
			</div>
			<div data-role="content">
				<img src="./images/marcel-duchamp.jpg" />
				<table>
					<tr>
						<td>Account:</td>
						<td>{{getTopPage().user.id}}</td>
					</tr>
					<tr>
						<td>First Name:</td>
						<td>{{getTopPage().user.firstName}}</td>
					</tr>
					<tr>
						<td>Last Name:</td>
						<td>{{getTopPage().user.lastName}}</td>
					</tr>
					<tr>
						<td>Last Login:</td>
						<td>{{getTopPage().user.lastLoginTimestamp}}</td>
					</tr>
					<tr>
						<td>E-Mail:</td>
						<td><a href="#">{{getTopPage().user.eMail}}</a></td>
					</tr>
					<tr>
						<td>Phone:</td>
						<td><a href="#">{{getTopPage().user.phone}}</a></td>
					</tr>
				</table>
			</div>
		</div>
		<div id="notesPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
						<li><a href="#" class="noteLink" data-icon="custom"
							ng-click="getTopPage().openCreateNoteDialog()">New</a></li>
					</ul>
				</div>
				<h1>Notes</h1>
			</div>
			<div data-role="content">
				<ul data-role="listview">
					<li ng-repeat="note in notesPage.notes"><a href="#"
						ng-click="notesPage.openNotePage(note)">
							<p style="color: #dddddd;">{{note.user.firstName}}
								{{note.user.lastName}} ({{note.user.id}}),
								{{formatDateTime(note.timestamp)}}</p>
							<p>{{note.content}}</p>
					</a></li>
				</ul>
				<div data-role="popup" id="createNoteDialog" data-overlay-theme="a"
					data-theme="c" style="max-width: 400px;" class="ui-corner-all">
					<div data-role="header" data-theme="a" class="ui-corner-top">
						<h1>Create Note</h1>
					</div>
					<div data-role="content" data-theme="d"
						class="ui-corner-bottom ui-content">
						<textarea rows="5" cols="30"
							ng-model="getTopPage().newNoteContent"></textarea>
						<a href="#" data-role="button" data-inline="true" data-rel="back"
							data-theme="c" ng-click="getTopPage().closeCreateNoteDialog()">Cancel</a>
						<a href="#" data-role="button" data-inline="true" data-rel="back"
							data-transition="flow" data-theme="b"
							ng-click="getTopPage().createNote()">Create</a>
					</div>
				</div>
			</div>
		</div>
		<div id="notePage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" data-icon="custom" class="backLink"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Note</h1>
			</div>
			<div data-role="content">
				<p>{{getTopPage().note.content}}</p>
			</div>
		</div>
		<div id="documentContentPage" data-role="page" data-theme="a"
			class="nav-glyphish-example">
			<div data-role="header" data-position="fixed">
				<div data-role="navbar"
					class="ui-body ui-body-c nav-glyphish-example" data-grid="d">
					<ul>
						<li><a href="#" class="backLink" data-icon="custom"
							ng-click="getTopPage().back()">Back</a></li>
					</ul>
				</div>
				<h1>Document</h1>
			</div>
			<div data-role="content">
				<table>
					<tr>
						<td>Name:</td>
						<td>{{getTopPage().document.name}}</td>
					</tr>
					<tr>
						<td>Content Type:</td>
						<td>{{getTopPage().document.contentType}}</td>
					</tr>
					<tr>
						<td>Owner:</td>
						<td>{{getTopPage().document.owner}}</td>
					</tr>
					<tr>
						<td>Size:</td>
						<td>{{getTopPage().document.size}}</td>
					</tr>
				</table>
				<iframe src="{{getTopPage().getContentUri()}}"
					style="width: 100%; border: 1px solid #bbbbbb;" />
			</div>
		</div>
		<div data-role="popup" id="notificationDialog" data-overlay-theme="a"
			data-theme="a" style="max-width: 400px;" class="ui-corner-all">
			<div data-role="header" data-theme="a" class="ui-corner-top">
				<h1>Notification</h1>
			</div>
			<div data-role="content" data-theme="d"
				class="ui-corner-bottom ui-content">
				<p id="message"></p>
				<a href="#" data-role="button" data-inline="true" data-rel="back"
					data-theme="c" ng-click="getTopPage().closeNotificationDialog()">Close</a>
			</div>
		</div>
	</div>
</body>
</html>