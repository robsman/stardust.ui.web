
<div data-role="header" style="overflow:hidden;">
	<h1>{{activityModel.item.activityName}} <span class="hide-media-sm">(#{{activityModel.item.oid}})</span></h1>
    <!-- a href="#" data-icon="gear" class="ui-btn-right">Options</a-->
    <a ng-href="#{{previousPage}}" 
       ng-click="activeTab=''"  
       class="ui-btn ui-shadow ui-corner-all ui-icon-back ui-btn-icon-notext">No Text</a>
</div>

<div data-role="tabs" id="tabs" style="padding-top:0em;border-top:0em;">
  <div data-role="navbar">
	<ul>
		<li ng-click="activeTab='activityTab';getNotes(activityModel.item.processInstanceOid)" >
			<a href="#activityTab" class="ui-btn-active">
				<i title="Activity" style="display:block;" class="fa fa-info fa-2x jqm-icon-block"></i>
				<span title="Activity" class="hide-media-sm">Activity</span>
			</a>		
		</li>
		<li ng-click="activeTab='formTab'" >
			<a ng-href="{{formTabTarget}}">
				<i style="display:block;" class="fa fa-cog fa-2x jqm-icon-block"></i>
				<span title="Form" class="hide-media-sm">Form</span>	
			</a>
		</li>
		<li ng-click="activeTab='docsTab'" >
			<a href="#docsTab">
				<i style="display:block;" class="fa fa-files-o fa-2x jqm-icon-block"></i>
				<span title="Documents" class="hide-media-sm">Documents ({{documentModel.docs.length}})</span>
			</a>
		</li>
		<li ng-click="activeTab='notesTab'">
		 	<a href="#notesTabContent" >
				<i style="display:block;" class="fa fa-clipboard fa-2x jqm-icon-block"></i>
				<span title="Notes" class="hide-media-sm">Notes ({{notesModel.notes.length}})</span>
			</a>
		</li>
		<li ng-click="navigateTo('#processPage?id=' + activityModel.item.processInstanceOid)">
			<a  id="#processTab" href="#" >
				<i style="display:block;" class="fa fa-cogs fa-2x jqm-icon-block"></i>
				<span title="Process" class="hide-media-sm">Process</span>
			</a>
		</li>
	</ul>
  </div>
  

 

  
  <div id="activityTab" class="ui-body-d ui-content">
		<div data-theme="a" 
			 data-jqm-template data-jqm-widgets="" 
			 data-template-url="templates/activityDetails.html">
		</div>
  </div>
  <div  id="formTab" class="ui-body-d ui-content" style="text-align:center;">
    	<div ng-show="isMashupShowable()===true" 
    		 data-jqm-template 
			 data-jqm-widgets=""
			 data-bind-to=""
			 data-template-url="templates/formPage.html">
		</div>
		<div ng-show="isMashupShowable()===false"
			 data-jqm-template 
			 data-jqm-widgets=""
			 data-bind-to=""
			 data-template-url="templates/formDefault.html">
		</div>
  </div>
   <div id="docsTab" class="ui-body-d ui-content">
    	<div data-jqm-template 
			 data-jqm-widgets="listview"
			 data-bind-to="documentModel.docs"
			 data-template-url="templates/documentPage.html">
		</div>
  </div>
   <div id="notesTabContent" class="ui-body-d ui-content">
   		<div data-jqm-template 
			 data-jqm-widgets="listview"
			 data-bind-to="notesModel.notes"
			 data-template-url="templates/notesPage.html">
		</div>
  </div>
   <div id="processTabContent"  class="ui-body-d ui-content">
    <!-- NO CONTENT -->
  </div>
</div><!-- Tabs End  -->

  <div class="ui-mini" ng-show="activeTab=='activityTab'">
  
	  <div ng-click="activate(activityModel.item.oid);" 
	  	   ng-show="activityModel.item.activatable && isHotActivityConflict()==false" 
	  	   style="margin-right:0em;" 
	  	   class="ui-btn ui-conrner-all ui-btn-inline">
	  	<i class="fa fa-bolt"></i> Activate
	  </div>
	  
	  <!-- Pseudo activate button we detected a conflict and just want to warn the user on click -->
	  <div ng-show="activityModel.item.activatable && isHotActivityConflict()==true" 
	  	   style="margin-right:0em;" 
	  	   class="ui-btn ui-conrner-all ui-btn-inline">
	  	<a ng-href="#activateConflictPopup_{{$id}}" data-rel="popup"><i class="fa fa-bolt"></i> Activate!</a>
	  </div>

	  <div data-role="popup" id="activateConflictPopup_{{$id}}" data-overlay-theme="b" data-theme="a" data-dismissible="false" style="max-width:400px;">
	    <div data-role="header" data-theme="a">
	    <h3>{{activityModel.item.activityName}} (#{{activityModel.item.oid}}) is not Activatable</h3>
	    </div>
	    <div role="main" class="ui-content">
	        <h4 class="ui-title">You currently have another activity active.</h4>
	    <p>What do you want to do?</p>
	        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
	        <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back" data-transition="flow">View Active </a>
	    </div>
	  </div>
	  
	  
	  <div ng-click="trigger('delegateActivity',activityModel.item.processInstanceOid)" style="margin-right:0em;" class="ui-btn ui-btn-inline">
	  	<i class="fa fa-user"></i> Delegate
	  </div>
	  
  </div>  
  
<div data-role="footer" data-theme="a" ng-controller="footerCtrl">
	<div class="ui-grid-b ui-mini" style="height:1.75em;">

	    <div class="ui-block-a" style="width:45%;">
	    	<div class="ui-bar ui-bar-a" style="height:1.75em;border-style:none;">XXX-{{title}}</div>
	    </div>
	
	    <div class="ui-block-b" style="width:10%;">
	    	<div class="ui-bar ui-bar-a" style="height:1.75em;border-style:none;position:relative;top:-0.5em;">
	    		<input type="button" data-icon="delete" data-iconpos="notext" value="Icon only"/>
	    	</div>
	    </div>
	    
	    <div class="ui-block-c" style="width:45%;">
	    	<div class="ui-bar ui-bar-a" style="height:1.75em;float:right;border-style:none;">{{version}}</div>
	    </div>
    
	</div>
</div>