<f:view xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">
	
<ice:form id="changePwdForm">
	<ice:panelPopup draggable="false" resizable="false" modal="true"
		rendered="#{ippLoginDialog.changePwdDialog.visible}"
		styleClass="popupDialog" clientOnly="true">
	
		<f:facet name="header">
			<table cellpadding="0" cellspacing="0" width="100%"><tr>
				<td>
					<ice:outputText value="#{localeBundle['loginDialog.changePassword.label']}" styleClass="headerText" />
				</td>
				<td style="text-align: right">
					<ice:commandButton image="/plugins/views-common/images/icons/dialog-windowbttn-close.png"
						action="#{ippLoginDialog.changePwdDialog.cancel}" immediate="true"
						title="#{common_msgPropsBean['common.close']}"
						styleClass="windowClose" />
				</td>
			</tr></table>
		</f:facet>
	
		<f:facet name="body">
			<ice:panelBorder  styleClass="pnlPopUpBrdrDialog" cellpadding="0" cellspacing="0" width="100%"
				renderNorth="false" renderEast="false" renderSouth="true"  renderWest="false" renderCenter="true">
				<f:facet name="center">
					<ice:panelGroup>
						<ice:panelGrid columns="2" style="width: 100%" cellspacing="0" cellpadding="0" columnClasses="label, data">
			            	<ice:outputLabel for="j_account" value="#{localeBundle['loginDialog.account']}:" 
			                    styleClass="label-form"/>
			                 <ice:panelGroup>
			                 	<ice:inputText id="j_account" value="#{ippLoginDialog.changePwdDialog.account}"
			                 		onkeydown="submitOnEnter(this);" disabled="true"/>
			                  	<ice:panelGroup>
			                  		<ice:message for="j_account" styleClass="loginMsg"/>
			                   </ice:panelGroup>
			                 </ice:panelGroup>
			                 
			                 <ice:outputLabel for="j_OldPassword" value="#{localeBundle['loginDialog.oldPassword']}:" 
			                    styleClass="label-form"/>
			                 <ice:panelGroup>
			                 	<ice:inputSecret id="j_OldPassword" value="#{ippLoginDialog.changePwdDialog.oldPassword}" 
			                   	 	onkeydown="submitOnEnter(this);"/>
			                  	<ice:panelGroup>
			                   		<ice:message for="j_OldPassword" styleClass="loginMsg"/>
			                   </ice:panelGroup>
			                 </ice:panelGroup>
			
			                 <ice:outputLabel for="j_NewPassword" value="#{localeBundle['loginDialog.newPassword']}:" 
			                    styleClass="label-form"/>
			                 <ice:panelGroup>
			                 	<ice:inputSecret id="j_NewPassword" value="#{ippLoginDialog.changePwdDialog.newPassword}" 
			                   	 	onkeydown="submitOnEnter(this);"/>
			                  	<ice:panelGroup>
			                   		<ice:message for="j_NewPassword" styleClass="loginMsg"/>
			                   </ice:panelGroup>
			                 </ice:panelGroup>
			
			                 <ice:outputLabel for="j_NewPasswordConf" value="#{localeBundle['loginDialog.newPasswordConf']}:" 
			                    styleClass="label-form"/>
			                 <ice:panelGroup>
			                 	<ice:inputSecret id="j_NewPasswordConf" value="#{ippLoginDialog.changePwdDialog.newPasswordConf}" 
			                   	 	onkeydown="submitOnEnter(this);"/>
			                  	<ice:panelGroup>
			                   		<ice:message for="j_NewPasswordConf" styleClass="loginMsg"/>
			                   </ice:panelGroup>
			                 </ice:panelGroup>
						</ice:panelGrid>
						<ice:panelGroup styleClass="loginMessage">
		                	<ice:inputHidden id="changePwdCommonMsg" value="" />
							<ice:message for="changePwdCommonMsg" styleClass="loginMsg" />
						</ice:panelGroup>
					</ice:panelGroup>
				</f:facet>					
				<f:facet name="south">
		            <div class="buttonContainer">
		            	<table cellpadding="0" cellspacing="0" width="100%">
		             		<tr>
		             			<td>
		                			<h:commandButton id="changePwdBtn" styleClass="button" 
		                    			value="#{localeBundle['common.submit']}"
		                    			action="#{ippLoginDialog.changePwdDialog.submit}" />
		                			<h:commandButton id="cancelPwdBtn" styleClass="button" 
		                    			value="#{localeBundle['common.cancel']}" immediate="true"
		                    			action="#{ippLoginDialog.changePwdDialog.cancel}" />
		                    	</td>
		            		</tr>
		               	</table>
		             </div>
				</f:facet>
			</ice:panelBorder>
		</f:facet>
	</ice:panelPopup>
</ice:form>
</f:view>