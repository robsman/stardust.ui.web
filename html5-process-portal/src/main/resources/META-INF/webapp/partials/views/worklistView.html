<div class="view-panel" ng-controller="sdWorklistViewCtrl">
	<!-- View Toolbar -->
	<div sd-include="'plugins/html5-process-portal/partials/views/worklistViewToolbar.html'"></div>
	
	<!-- View Content -->
	<div class="view-panel-content">
		<h4>{{i18n('html5-process-portal.views-worklistViewHtml5-labelTitle')}}</h4>

		<!-- Table Toolbar -->	
		<div class="tbl-toolbar">
			<table cellpadding="0" cellspacing="0">
				<tr>
					<td class="tbl-toolbar-item">
						<a href="#" ng-click="" title="Select Columns" class="tbl-tool-link">
							<i class="fa fa-table"></i>
						</a>
					</td>
					<td class="tbl-toolbar-item">
						<a href="#" ng-click="" title="Export Excel" class="tbl-tool-link">
							<i class="fa fa-file-excel-o"></i>
						</a>
					</td>
					<td class="tbl-toolbar-item">
						<a href="#" ng-click="" title="Export CSV" class="tbl-tool-link">
							<i class="fa fa-file-text-o"></i>
						</a>
					</td>
					<td class="tbl-toolbar-item">
					   <a href="#" ng-click="completeAll()" title="Complete All" class="view-tool-link">
					      <i class="fa fa-share"></i>
					   </a>
					</td>
            </tr>
			</table>
		</div>
		
		<div class="">
		 Total: {{worklist.totalCount}}
		</div>

		<!-- Table -->
		<table style="width: 100%;">
			<thead>
				<tr>
					<th>Activity</th>
					<th>Activity OID</th>
					<th>Process</th>
					<th>Start Time</th>
					<th>Last Modified</th>
					<th>Data</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr valign="center" sd-table-data="workItem in worklist.workItems track by $index"
					sd-table-selection="worklist.selectedWorkItems">
					<td>
						<a href="#" ng-click="activateWorkItem(workItem)" title="{{workItem.activity.description}}">
							{{workItem.activity.name}}
						</a>
					</td>
					<td align="middle">{{workItem.oid}}</td>
					<td>{{workItem.processName}}</td>
					<td align="right">{{workItem.start | sdDateTimeFilter}}</td>
					<td align="right">{{workItem.lastModification | sdDateTimeFilter}}</td>
					<td>
                  <table ng-hide="!worklist.trivialManualActivities[workItem.oid]">
                     <tbody>
                        <tr ng-repeat="mapping in worklist.trivialManualActivities[workItem.oid].dataMappings">
                           <td>{{mapping.name}}</td>
                           <td>
                              <select ng-show="mapping.isEnum"
                                 ng-model="worklist.trivialManualActivities[workItem.oid].inOutData[mapping.id]"
                                 ng-init="worklist.trivialManualActivities[workItem.oid].inOutData[mapping.id] = worklist.trivialManualActivities[workItem.oid].inOutData[mapping.id] || mapping.enumValues[0]"
                                 ng-options="enumVal for enumVal in mapping.enumValues" />

	                           <input type="text"
	                              ng-show="mapping.typeName == 'java.lang.String'"
	                              ng-model="worklist.trivialManualActivities[workItem.oid].inOutData[mapping.id]" />
	
	                           <input type="checkbox"
	                              ng-show="mapping.typeName == 'java.lang.Boolean'"
	                              ng-model="worklist.trivialManualActivities[workItem.oid].inOutData[mapping.id]" />
                           </td>
                        </tr>
                     </tbody>
                  </table>
					</td>
					<td align="right" style="padding-left: 0px;">
						<a href="#" ng-click="openNotes(workItem)" title="Open Notes" class="view-tool-link">
							<i class="fa fa-comment-o"></i>
						</a>
						<a href="#" ng-click="openProcessHistory(workItem)" title="Process History" class="view-tool-link">
							<i class="fa fa-tasks"></i>
						</a>
						<a href="#" ng-click="complete(workItem)" title="Complete" class="view-tool-link">
							<i class="fa fa-share"></i>
						</a>
						<a href="#" ng-click="openDelegateDialog(workItem)" title="Delegate" class="view-tool-link">
							<i class="fa fa-user"></i>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>