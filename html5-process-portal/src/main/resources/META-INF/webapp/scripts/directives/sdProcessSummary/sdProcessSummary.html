<div>
	<div style="padding: 10px 0px 20px 10px">
		<div class="tbl-toolbar-section">
			<button class="button-link tbl-toolbar-item tbl-tool-link"
				aid="PP-processSummary-expandAll"
				ng-click="sdProcessSummaryCtrl.expandAll()"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.expandAll')}}">
				<i class="pi pi-table-expand pi-1x"></i>
			</button>
			<button class="button-link tbl-toolbar-item tbl-tool-link"
				aid="PP-processSummary-collapseAll"
				ng-click="sdProcessSummaryCtrl.collapseAll()"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.collapseAll')}}">
				<i class="pi pi-table-collapse pi-1x"></i>
			</button>
		</div>
		<div class="tbl-toolbar-section">
			<button ng-show="!sdProcessSummaryCtrl.showNotes"
				aid="PP-processSummary-showNotes"
				class="button-link tbl-toolbar-item tbl-tool-link"
				ng-click="sdProcessSummaryCtrl.showNotes = !sdProcessSummaryCtrl.showNotes"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.notes.showNotes')}}">
				<i class="pi pi-notes-empty pi-1x"></i>
			</button>
			<button ng-show="sdProcessSummaryCtrl.showNotes"
				aid="PP-processSummary-hideNotes"
				class="button-link tbl-toolbar-item tbl-tool-link"
				ng-click="sdProcessSummaryCtrl.showNotes = !sdProcessSummaryCtrl.showNotes"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.notes.hideNotes')}}">
				<i class="pi pi-notes pi-1x"></i>
			</button>
			<button ng-show="!sdProcessSummaryCtrl.showDocuments"
				aid="PP-processSummary-showDocs"
				class="button-link tbl-toolbar-item tbl-tool-link"
				ng-click="sdProcessSummaryCtrl.showDocuments = !sdProcessSummaryCtrl.showDocuments"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.documents.showDocuments')}}">
				<i class="pi pi-text pi-1x"></i>
			</button>
			<button ng-show="sdProcessSummaryCtrl.showDocuments"
				aid="PP-processSummary-hideDocs"
				class="button-link tbl-toolbar-item tbl-tool-link"
				ng-click="sdProcessSummaryCtrl.showDocuments = !sdProcessSummaryCtrl.showDocuments"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.documents.hideDocuments')}}">
				<i class="pi pi-invert pi-1x"></i>
			</button>
		</div>
		<div class="tbl-toolbar-section">
			<button class="button-link tbl-toolbar-item tbl-tool-link"
				aid="PP-processSummary-download" ng-click=""
				title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.download')}}">
				<i class="pi pi-download pi-1x"></i>
			</button>
		</div>
		<div class="tbl-toolbar-section">
			<button class="button-link tbl-toolbar-item tbl-tool-link"
				aid="PP-processSummary-refresh"
				ng-click="sdProcessSummaryCtrl.refresh()"
				title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.refresh')}}">
				<i class="pi pi-refresh pi-1x"></i>
			</button>
		</div>
	</div>
	<div>
		<table class="process-summary-table">
			<tbody>
				<tr ng-repeat="flowElement in sdProcessSummaryCtrl.flowElements"
					ng-show="!{{flowElement.type_=='Activity'}} || sdProcessSummaryCtrl.isProcessExpanded(flowElement.processOid_)">
					<td
						ng-hide="{{flowElement.type_=='Activity'}} || (sdProcessSummaryCtrl.isProcessExpanded(flowElement.processOid_) && {{flowElement.type_=='Process'}})"
						sd-state-display="{{flowElement.processOid_}}"
						class="process-summary-control"><div
							aid="PP-processSummary-showProcessHistory"
							title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.expand')}}"
							ng-click="sdProcessSummaryCtrl.toggleProcessSelection(flowElement.processOid_)">
							<i class="pi pi-table-expand pi-1x"></i>
						</div></td>
					<td
						ng-show="sdProcessSummaryCtrl.isProcessExpanded(flowElement.processOid_) && {{flowElement.type_=='Process'}}"
						sd-state-display="{{flowElement.processOid_}}"
						class="process-summary-control"><div
							aid="PP-processSummary-hideProcessHistory"
							title="{{sdProcessSummaryCtrl.sdI18n('html5-common.common.collapse')}}"
							ng-show="{{flowElement.type_=='Process'}}"
							ng-click="sdProcessSummaryCtrl.toggleProcessSelection(flowElement.processOid_)">
							<i class="pi pi-table-collapse pi-1x"></i>
						</div></td>
					<td class="process-summary-cell process-summary-border-bottom"
						ng-show="{{flowElement.type_=='Process'}}"><span><i
							class="pi pi-activity-group pi-1x"></i></span></td>
					<td width="28%"
						class="process-summary-cell process-summary-border-bottom"
						ng-show="{{flowElement.type_=='Process'}}"><span>{{flowElement.activity.name}}({{flowElement.activityOID}})</span></td>
					<td width="10%"
						class="process-summary-cell process-summary-border-bottom"
						ng-show="{{flowElement.type_=='Process'}}"><span>{{flowElement.status.label}}</span>
					</td>
					<td width="60%"
						class="process-summary-cell process-summary-border-bottom"
						ng-show="{{flowElement.type_=='Process'}}"><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.startTime')}}:
							{{flowElement.startTime | sdDateTimeFilter}}</span> <span
						ng-show="{{flowElement.status.value == 2}}"
						style="margin-left: 5px">{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.endTime')}}:
							{{flowElement.lastModification | sdDateTimeFilter}}</span> <span
						ng-show="{{flowElement.status.value != 2}}"
						style="margin-left: 5px">{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.endTime')}}:
							{{sdProcessSummaryCtrl.sdI18n('html5-common.common.na')}}</span></td>
					<td colspan="5" ng-show="{{flowElement.type_=='Activity'}}">
						<table width="100%">
							<tbody>
								<tr>
									<td sd-state-display="{{flowElement.processOid_}}"
										class="process-summary-control"><i style="opacity: 0"
										class="pi pi-table-expand pi-1x"></i></td>
									<td class="">
										<table width="100%" class="process-summary-border-bottom">
											<tr
												title="{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.showActivityHistory')}}"
												ng-click="flowElement.expanded_=!flowElement.expanded_"
												aid="PP-processSummary-showHideActivityHistory"
												class="process-summary-control">
												<td class="process-summary-cell"><i
													class="pi pi-service-task pi-1x"></i></td>
												<td width="28%" class="process-summary-cell"><span>
														{{flowElement.activity.name}}({{flowElement.activityOID}})</span></td>
												<td width="10%"><span>{{flowElement.status.label}}</span>
												</td>
												<td width="60%"><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.startTime')}}:
														{{flowElement.startTime | sdDateTimeFilter}}</span> <span
													ng-show="{{flowElement.status.value == 2}}"
													style="margin-left: 5px">{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.endTime')}}:
														{{flowElement.lastModification | sdDateTimeFilter}}</span> <span
													ng-show="{{flowElement.status.value != 2}}"
													style="margin-left: 5px">{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.endTime')}}:
														{{sdProcessSummaryCtrl.sdI18n('html5-common.common.na')}}</span></td>
											</tr>
											<tr
												ng-show="flowElement.expanded_ && sdProcessSummaryCtrl.showNotes && flowElement.notes_">
												<td colspan="6">
													<table width="95%" class="process-summary-notes">
														<tr style="background-color: lightgray">
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.notes.label')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.notes.addedBy')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-common.common.date')}}</span></th>
														</tr>
														<tr ng-repeat="note in flowElement.notes_"
															sd-state-display="{{$index}}"
															sda-state-display-colors="['white', 'F5F5F5']">
															<td><span><i class="pi pi-notes-empty pi-1x"></i>
																	{{note.note}}</span></td>
															<td><sd-user-image
																	sda-path="{{note.avatarImageURI}}"></sd-user-image>
																{{note.creatorName}}</td>
															<td><span>{{note.created | sdDateTimeFilter}}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr
												ng-show="flowElement.expanded_ && sdProcessSummaryCtrl.showDocuments && flowElement.documents">
												<td colspan="6">
													<table width="95%" class="process-summary-notes">
														<tr style="background-color: lightgray">
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.documents.label')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.documents.uploadedBy')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-common.common.date')}}</span></th>
														</tr>
														<tr ng-repeat="document in flowElement.documents"
															sd-state-display="{{$index}}"
															sda-state-display-colors="['white', 'F5F5F5']">
															<td><span><i
																	class="{{sdProcessSummaryCtrl.getGlyphiconClass(document.contentType)}} spacing-right"></i>{{document.name}}</span></td>
															<td><sd-user-image
																	sda-path="{{document.ownerDetails.userImageURI}}"></sd-user-image>
																{{document.ownerDetails.displayName}}</td>
															<td><span>{{document.dateLastModified |
																	sdDateTimeFilter}}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr
												ng-show="flowElement.expanded_ && flowElement.isChecklistActivity">
												<td colspan="4">
													<table width="95%" class="process-summary-notes">
														<tr style="background-color: lightgray">
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.checklist.label')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.checklist.performedBy')}}</span></th>
															<th><span>{{sdProcessSummaryCtrl.sdI18n('html5-process-portal.view.processsummary.checklist.maker')}}</span></th>
														</tr>
														<tr>
															<td><span>{{flowElement.activity.description}}</span></td>
															<td><span><sd-user-image
																		sda-path="{{flowElement.userImageURI}}"></sd-user-image>
																	{{flowElement.completedBy}}</span></td>
															<td>
																<div ng-repeat="data in flowElement.historicalData">
																	<span>{{data.name}} :</span> <span>{{data.value}}</span>
																</div>

															</td>
														</tr>
													</table>
												</td>
											</tr>
											</tbody>
										</table>
									</td>
								</tr>
							</tbody>
						</table>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>