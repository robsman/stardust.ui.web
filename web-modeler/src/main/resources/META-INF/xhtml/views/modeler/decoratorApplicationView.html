<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
   xmlns:ice="http://www.icesoft.com/icefaces/component"
   xmlns:pc="http://www.sungard.de/carnot/web/portal-plugin/portalcommon">
<head>
<title>Decorator Application</title>
<link rel="stylesheet" type="text/css"
   href="plugins/bpm-modeler/css/thirdparty/jquery/jquery-ui-1.10.2.custom.css"></link>
<link href="plugins/bpm-modeler/css/lightdust.css" rel="stylesheet" type="text/css" />
<link href="plugins/bpm-modeler/css/bpm-modeler.custom.jquery.ui.css" rel="stylesheet"
   type="text/css" />

<script type="text/javascript" src="plugins/bpm-modeler/js/commonRequire.js"></script>
</head>
<body>
   <div id="decoratorApplicationView" class="nativeHtmlViewPanel"
      style="visibility: hidden">
      <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
         <tr>
            <td>
               <div class="errorMessagesPanel">
                  <ul id="errorMessagesList">
                  </ul>
               </div>
            </td>
         </tr>
      </table>
      <div id="hideGeneralProperties">
         <div class="clplPanelHeading">
            <img src="./plugins/common/images/panelHeader-triggerExpand.png"
               title="Show General Properties" styleClass="headerImg"></img> <label>General
               Properties</label>
         </div>
      </div>
      <div id="showAllProperties">
         <div id="showGeneralProperties">
            <div class="clplPanelHeading">
               <img src="./plugins/common/images/panelHeader-triggerCollapse.png"
                  title="Hide General Properties" styleClass="headerImg"></img> <label>General
                  Properties</label>
            </div>
         </div>
         <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
            <tr>
               <td>
                  <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                     style="margin-bottom: 10px;">
                     <tr id="guidOutputRow">
                        <td><label for="guidOutput">UUID</label></td>
                        <td><div id="guidOutput" class="output">168999</div></td>
                     </tr>
                     <tr id="idOutputRow">
                        <td><label for="idOutput">ID</label></td>
                        <td><div id="idOutput" class="output"></div></td>
                     </tr>
                     <tr>
                        <td><label for="nameInput" id="application">Application
                              Name</label></td>
                        <td><input id="nameInput" type="text"></input></td>
                     </tr>
                  </table>
               </td>
            </tr>
            <tr>
               <td><label for="descriptionTextarea" id="description">Description</label>
               </td>
            </tr>
            <tr>
               <td><textarea id="descriptionTextarea" cols="40" rows="5"></textarea>
               </td>
            </tr>
            <tr>
               <td>
                  <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                     style="margin-bottom: 10px;">
                     <tr>
                        <td><input id="publicVisibilityCheckbox" type="checkbox"></input>
                        </td>
                        <td><label for="publicVisibilityCheckbox"
                           id="publicVisibility">Public Visibility</label></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
         <tr>
            <td>
               <div id="propertiesTabs" class="minimalTabs" style="margin-top: 10px;">
                  <ul id="propertiesTabsList">
                     <li><a href="#configurationTab"><img
                           src="plugins/bpm-modeler/images/icons/application_edit.png"></img><span
                           class="tabLabel" id="configuration">Configuration</span> </a></li>
                     <li><a href="#mappingTab"><img
                           src="plugins/bpm-modeler/images/icons/application_edit.png"></img><span
                           class="tabLabel" id="mapping">Mapping</span> </a></li>
                  </ul>
                  <div id="configurationTab">
                     <table>
                        <tr>
                           <td><label for="availableModelsInput">Model</label></td>
                           <td><select id="availableModelsInput"
                              ng-model="overlayPanel.modelId"
                              ng-change="overlayPanel.modelIdChanged()"
                              ng-options="model.id as model.name for model in overlayPanel.getAvailableModels()">
                                 <option value="">{{overlayPanel.i18nLabels('none.title')}}</option>
                           </select></td>
                        </tr>
                        <tr ng-show="overlayPanel.modelId != null ? true : false">
                           <td><label for="availableElements">Applications /
                                 Process Interface</label></td>
                           <td><select id="availableElements"
                              ng-model="overlayPanel.eltId"
                              ng-change="overlayPanel.elementChanged()">
                                 <option value="">{{overlayPanel.i18nLabels('none.title')}}</option>
                                 <optgroup label="Applications"
                                    ng-show="overlayPanel.getAvailableElements().applications.length > 0?true:false">
                                    <option
                                       ng-selected="overlayPanel.eltId == app.getFullId()"
                                       ng-repeat="app in overlayPanel.getAvailableElements().applications"
                                       value="{{app.getFullId()}}">{{app.name}}</option>
                                 </optgroup>
                                 <optgroup label="Process Definitions"
                                    ng-show="overlayPanel.getAvailableElements().processes.length > 0?true:false">
                                    <option
                                       ng-selected="overlayPanel.eltId == pd.getFullId()"
                                       ng-repeat="pd in overlayPanel.getAvailableElements().processes"
                                       value="{{pd.getFullId()}}">{{pd.name}}</option>
                                 </optgroup>
                           </select></td>
                        </tr>
                     </table>
                  </div>
                  <div id="mappingTab">
                     <div id="applicationView"
                        ng-show="(overlayPanel.elementType != null && (overlayPanel.elementType=='application' || overlayPanel.elementType=='process'))? true : false">
                        <div class="heading" style="margin-top: 10px;">
                           {{overlayPanel.i18nLabels('inputs.title')}}</div>
                        <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                           style="width: 100%;">
                           <tr>
                              <th>{{overlayPanel.i18nLabels('header.name.title')}}</th>
                              <!--<th>{{overlayPanel.i18nLabels('header.direction.title')}}</th>-->
                              <th>{{overlayPanel.i18nLabels('header.dataType.title')}}</th>
                              <th>{{overlayPanel.i18nLabels('header.type.title')}}</th>
                              <th>Predefined Values</th>
                           </tr>
                           <tr
                              ng-repeat="ap in overlayPanel.getApplication().contexts.application.accessPoints | filter : {direction:'IN'}">
                              <td>{{ ap.name }}</td>
                              <!--<td><select disabled="true" ng-model="ap.direction">
								                <option value="IN">In</option>
								                <option value="OUT">Out</option>
						                   </select></td>-->
                              <td><select disabled="true" ng-model="ap.dataType">
                                    <option value="struct">Structured Data</option>
                                    <option value="primitive">Primitive</option>
                                    <option value="dmsDocument">Document</option>
                              </select></td>
                              <td ng-show="ap.dataType =='struct'? true : false"><select
                                 disabled="true" ng-model="ap.structuredDataTypeFullId"
                                 ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()">
                              </select></td>
                              <td ng-show="ap.dataType == 'primitive' ? true : false">
                                 <select disabled="true" ng-model="ap.primitiveDataType">
                                    <option value="String">Text</option>
                                    <option value="boolean">Boolean (True, False)</option>
                                    <option value="int">Number (e.g. 18756)</option>
                                    <option value="long">Long Number (e.g. 18756)</option>
                                    <option value="double">Scientific (e.g.
                                       3.1415)</option>
                                    <option value="Calendar">Date (e.g.
                                       14/05/2011)</option>
                              </select>
                              </td>
                              <td ng-show="ap.dataType =='dmsDocument'? true : false">
                                 <select disabled="true"
                                 ng-model="ap.structuredDataTypeFullId"
                                 ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()">
                              </select>
                              </td>


                              <td ng-show="ap.dataType == 'primitive'? true : false">
                                 <div
                                    ng-show="ap.primitiveDataType =='boolean'? true : false">boolean</div>
                                 <div
                                    ng-show="ap.primitiveDataType =='Calendar'? true : false">Calendar</div>
                                 <div
                                    ng-show="ap.primitiveDataType !='Calendar' && ap.primitiveDataType !='boolean'? true : false">
                                    <!-- <input type="text" ng-model="elt.value" ng-blur="overlayPanel.valueChanged(elt)"/> -->
                                    <!-- -->
                                    <input type="text"
                                       ng-model="ap.attributes['carnot:engine:defaultValue']"
                                       ng-blur="overlayPanel.valueChanged(ap)" />
                                 </div>
                              </td>
                              <td ng-show="ap.dataType =='dmsDocument'? true : false"></td>
                              <td ng-show="ap.dataType =='struct'? true : false"></td>
                           </tr>
                        </table>
                        <!--<div class="heading" style="margin-top: 10px;">
                                    {{overlayPanel.i18nLabels('outputs.title')}}
                                </div>
                                 <table cellpadding="0" cellspacing="0" class="fieldSetTable" style="width: 100%;">
                                     <tr>
                                        <th>{{overlayPanel.i18nLabels('header.name.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.direction.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.dataType.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.type.title')}}</th>
                                     </tr>
                                     <tr ng-repeat="ap in overlayPanel.selectedApplication.contexts.application.accessPoints | filter : {direction:'OUT'}">
                                        <td>{{ ap.name }}</td>
                                        <td><select disabled="true" ng-model="ap.direction">
								                <option value="IN">In</option>
								                <option value="OUT">Out</option>
						                   </select></td>
                                         <td><select disabled="true" ng-model="ap.dataType">
								                <option value="struct">Strcutred Data</option>
								                <option value="primitive">Primitive</option>
                                                <option value="dmsDocument">Document</option>
						                   </select></td>
                                         <td ng-show="ap.dataType =='struct'? true : false">
                                         <select disabled="true" ng-model="ap.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                         <td ng-show="ap.dataType == 'primitive' ? true : false">
                                            <select disabled="true" ng-model="ap.primitiveDataType">
                                                <option value="String">Text</option>
                                                <option value="boolean">Boolean (True, False)</option>
                                                <option value="int">Number (e.g. 18756)</option>
                                                <option value="long">Long Number (e.g. 18756)</option>
                                                <option value="double">Scientific (e.g. 3.1415)</option>
                                                <option value="Calendar">Date (e.g. 14/05/2011)</option>
                                            </select>
                                         </td>
                                         <td ng-show="ap.dataType =='dmsDocument'? true : false">
                                          <select disabled="true" ng-model="ap.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                      </tr>
                                </table>-->
                     </div>
                     <!--    <div id="processView" ng-show="(overlayPanel.elementType != null && overlayPanel.elementType=='process')? true : false"> -->
                     <!-- <table cellpadding="0" cellspacing="0" class="fieldSetTable" style="width: 100%;">
                                     <tr>
                                        <td><label>{{overlayPanel.i18nLabels('model.name.title')}}</label></td>
                                         <td><span>{{overlayPanel.selectedProcessDefinition.model.name}}</span></td>
                                        <td><label>{{overlayPanel.i18nLabels('application.name.title')}}</label></td>
                                        <td><span>{{overlayPanel.selectedProcessDefinition.name}}</span></td>
                                     </tr>
                                     <tr>
                                        <td><label>Execution</label></td>
                                         <td><select disabled="true">
								               <option value="0">Synchronous/Shared Data</option>
								               <option value="1" selected="selected">Synchronous/Separate Data</option>
								               <option value="2">Asynchronous/Separate Data</option>
						                   </select></td>
                                        <td><input type="checkbox"/><label>Copy All Data</label></td>
                                        <td></td>
                                     </tr>
                                     <tr>
                                        <td><label>Runtime Binding</label></td>
                                         <td><select disabled="true">
								               <option>Please specify...</option>
								               </select></td>
                                        <td><input type="text"/></td>
                                        <td></td>
                                     </tr>
                                </table>
                                <div class="heading" style="margin-top: 10px;">
                                    {{overlayPanel.i18nLabels('inputs.title')}}
                                </div>
                                <table cellpadding="0" cellspacing="0" class="fieldSetTable" style="width: 100%;">
                                     <tr>
                                        <th>{{overlayPanel.i18nLabels('header.name.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.dataType.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.type.title')}}</th>
                                         <th>Predefined Values</th>
                                     </tr>
                                     <tr ng-repeat="fp in overlayPanel.selectedProcessDefinition.formalParameters | filter : {direction:'IN'}">
                                        <td>{{ fp.name }}</td>
                                         <td><select disabled="true" ng-model="fp.dataType">
								                <option value="struct">Structured Data</option>
								                <option value="primitive">Primitive</option>
                                                <option value="dmsDocument">Document</option>
						                   </select></td>
                                         <td ng-show="pf.dataType =='struct'? true : false">
                                         	 <select disabled="true" ng-model="fp.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                         <td ng-show="fp.dataType == 'primitive' ? true : false">
                                            <select disabled="true" ng-model="fp.primitiveDataType">
                                                <option value="String">Text</option>
                                                <option value="boolean">Boolean (True, False)</option>
                                                <option value="int">Number (e.g. 18756)</option>
                                                <option value="long">Long Number (e.g. 18756)</option>
                                                <option value="double">Scientific (e.g. 3.1415)</option>
                                                <option value="Calendar">Date (e.g. 14/05/2011)</option>
                                            </select>
                                         </td>
                                         <td ng-show="fp.dataType =='dmsDocument'? true : false">
                                         <select disabled="true" ng-model="fp.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                         <td ng-show="pf.dataType == 'primitive'? true : false">
                                            <div ng-show="fp.primitiveDataType =='boolean'? true : false">boolean</div>
                                            <div ng-show="fp.primitiveDataType =='Calendar'? true : false">Calendar</div>
                                            <div ng-show="fp.primitiveDataType !='Calendar' && fp.primitiveDataType !='boolean'? true : false">
                                           		<input type="text" ng-model="elt.value" ng-blur="overlayPanel.valueChanged(elt)"/> -->
                     <!--
                                           		<input type="text" ng-model="fp.attributes['carnot:engine:defaultValue']" ng-blur="overlayPanel.valueChanged(fp)"/>
											</div>
                                         </td>
                                         <td ng-show="fp.dataType =='dmsDocument'? true : false"></td>
                                         <td ng-show="fp.dataType =='struct'? true : false"></td>
                                      </tr>
                            </table> -->
                     <!--<div class="heading" style="margin-top: 10px;">
                                    {{overlayPanel.i18nLabels('outputs.title')}}
                                </div>
                                 <table cellpadding="0" cellspacing="0" class="fieldSetTable" style="width: 100%;">
                                     <tr>
                                        <th>{{overlayPanel.i18nLabels('header.name.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.direction.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.dataType.title')}}</th>
                                        <th>{{overlayPanel.i18nLabels('header.type.title')}}</th>
                                     </tr>
                                     <tr ng-repeat="fp in overlayPanel.selectedProcessDefinition.formalParameters | filter : {direction:'OUT'}">
                                        <td>{{ fp.name }}</td>
                                        <td><select disabled="true" ng-model="fp.direction">
								                <option value="IN">In</option>
								                <option value="OUT">Out</option>
						                   </select></td>
                                         <td><select disabled="true" ng-model="fp.dataType">
								                <option value="struct">Strcutred Data</option>
								                <option value="primitive">Primitive</option>
                                                <option value="dmsDocument">Document</option>
						                   </select></td>
                                         <td ng-show="fp.dataType =='struct'? true : false">
                                         <select disabled="true" ng-model="fp.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                         <td ng-show="fp.dataType == 'primitive' ? true : false">
                                            <select disabled="true" ng-model="fp.primitiveDataType">
                                                <option value="String">Text</option>
                                                <option value="boolean">Boolean (True, False)</option>
                                                <option value="int">Number (e.g. 18756)</option>
                                                <option value="long">Long Number (e.g. 18756)</option>
                                                <option value="double">Scientific (e.g. 3.1415)</option>
                                                <option value="Calendar">Date (e.g. 14/05/2011)</option>
                                            </select>
                                         </td>
                                         <td ng-show="fp.dataType =='dmsDocument'? true : false">
                                          <select disabled="true" ng-model="fp.structuredDataTypeFullId"
                                                  ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()"
                                                  >
                                             </select>
                                         </td>
                                      </tr>
                                </table>-->


                     <!-- </div> -->
                     <div id="errorView"
                        ng-show="overlayPanel.elementType == null ? true : false">
                        <label id="noSelectionErrorMessage"></label>
                     </div>
                  </div>
                  <div ng-repeat="ext in decoratorApplicationView.extensions"
                     id="{{ext.id}}">
                     <sd-include src="ext.pageHtmlUrl"
                        onload="decoratorApplicationViewOnload(ext)"
                        onfail="decoratorApplicationViewOnfail(ext)" />
                  </div>
               </div>
            </td>
         </tr>
      </table>
   </div>

   <script type="text/javascript"
      src="plugins/bpm-modeler/js/decoratorApplicationViewMain.js"></script>

</body>
</html>