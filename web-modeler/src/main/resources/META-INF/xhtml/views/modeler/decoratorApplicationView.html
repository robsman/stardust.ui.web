<link rel="stylesheet" type="text/css"
   href="plugins/bpm-modeler/css/thirdparty/jquery/jquery-ui-1.10.2.custom.css"></link>
<link href="plugins/bpm-modeler/css/bpm-modeler.custom.jquery.ui.css" rel="stylesheet"
   type="text/css" />

<script type="text/javascript" src="plugins/bpm-modeler/js/commonRequire.js"></script>
<div id="decoratorApplicationView" class="lightdust nativeHtmlViewPanel"
      style="visibility: hidden">
      <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
         <tr>
            <td>
               <div class="errorMessagesPanel">
                  <ul id="errorMessagesList">
                  </ul>
               </div>
            </td>
         </tr>
      </table>
      <div id="hideGeneralProperties">
         <div class="clplPanelHeading">
            <img src="./plugins/common/images/panelHeader-triggerExpand.png"
               title="Show General Properties" styleClass="headerImg"></img> <label>General
               Properties</label>
         </div>
      </div>
      <div id="showAllProperties">
         <div id="showGeneralProperties">
            <div class="clplPanelHeading">
               <img src="./plugins/common/images/panelHeader-triggerCollapse.png"
                  title="Hide General Properties" styleClass="headerImg"></img> <label>General
                  Properties</label>
            </div>
         </div>
         <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
            <tr>
               <td>
                  <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                     style="margin-bottom: 10px;">
                     <tr id="guidOutputRow">
                        <td><label for="guidOutput">UUID</label></td>
                        <td><div id="guidOutput" class="output">168999</div></td>
                     </tr>
                     <tr id="idOutputRow">
                        <td><label for="idOutput">ID</label></td>
                        <td><div id="idOutput" class="output"></div></td>
                     </tr>
                     <tr>
                        <td><label for="nameInput" id="application">Application
                              Name</label></td>
                        <td><input id="nameInput" type="text"></input></td>
                     </tr>
                  </table>
               </td>
            </tr>
            <tr>
               <td><label for="descriptionTextarea" id="description">Description</label>
               </td>
            </tr>
            <tr>
               <td><textarea id="descriptionTextarea" cols="40" rows="5"></textarea>
               </td>
            </tr>
            <tr>
               <td>
                  <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                     style="margin-bottom: 10px;">
                     <tr>
                        <td><input id="publicVisibilityCheckbox" type="checkbox"></input>
                        </td>
                        <td><label for="publicVisibilityCheckbox"
                           id="publicVisibility">Public Visibility</label></td>
                     </tr>
                  </table>
               </td>
            </tr>
         </table>
      </div>
      <table cellpadding="0" cellspacing="0" class="layoutTable" style="width: 800px;">
         <tr>
            <td>
               <div id="propertiesTabs" class="minimalTabs" style="margin-top: 10px;">
                  <ul id="propertiesTabsList">
                     <li><a href="#configurationTab"><img
                           src="plugins/bpm-modeler/images/icons/application_edit.png"></img><span
                           class="tabLabel" id="configuration">Configuration</span> </a></li>
                     <li><a href="#mappingTab"><img
                           src="plugins/bpm-modeler/images/icons/application_edit.png"></img><span
                           class="tabLabel" id="mapping"
                           title="Input Access Points with a default value will not be exposed as Access Points for the Decorator Application">Default
                              Values</span> </a></li>
                  </ul>
                  <div id="configurationTab">
                     <table>
                        <tr>
                           <td><label for="availableModelsInput">Model</label></td>
                           <td><select id="availableModelsInput"
                              ng-model="overlayPanel.modelId"
                              ng-change="overlayPanel.modelIdChanged()"
                              ng-options="model.id as model.name for model in overlayPanel.getAvailableModels()">
                                 <option value=null ng-selected="(overlayPanel.modelId=='' || overlayPanel.modelId==null)?true:false">{{overlayPanel.i18nLabels('none.title')}}</option>
                           </select></td>
                        </tr>
                        <tr ng-show="overlayPanel.modelId != null ? true : false">
                           <td><label for="availableElements">Applications /
                                 Process Interface</label></td>
                           <td><select id="availableElements"
                              ng-model="overlayPanel.eltId"
                              ng-change="overlayPanel.elementChanged()">
                                 <option value=null ng-selected="(overlayPanel.eltId=='' || overlayPanel.eltId==null)?true:false">{{overlayPanel.i18nLabels('none.title')}}</option>
                                 <optgroup label="Applications"
                                    ng-show="overlayPanel.getAvailableElements().applications.length > 0?true:false">
                                    <option
                                       ng-selected="overlayPanel.eltId == app.getFullId()"
                                       ng-repeat="app in overlayPanel.getAvailableElements().applications"
                                       value="{{app.getFullId()}}">{{app.name}}</option>
                                 </optgroup>
                                 <optgroup label="Process Definitions"
                                    ng-show="overlayPanel.getAvailableElements().processes.length > 0?true:false">
                                    <option
                                       ng-selected="overlayPanel.eltId == pd.getFullId()"
                                       ng-repeat="pd in overlayPanel.getAvailableElements().processes"
                                       value="{{pd.getFullId()}}">{{pd.name}}</option>
                                 </optgroup>
                           </select></td>
                        </tr>
                     </table>
                  </div>
                  <div id="mappingTab">
                     <div id="applicationView"
                        ng-show="(overlayPanel.elementType != null && (overlayPanel.elementType=='application' || overlayPanel.elementType=='process'))? true : false">
                        <div class="heading" style="margin-top: 10px;">
                           {{overlayPanel.i18nLabels('inputs.title')}}</div>
                        <table cellpadding="0" cellspacing="0" class="fieldSetTable"
                           style="width: 100%;">
                           <tr>
                              <th>{{overlayPanel.i18nLabels('header.name.title')}}</th>
                              <!--<th>{{overlayPanel.i18nLabels('header.direction.title')}}</th>-->
                              <th>{{overlayPanel.i18nLabels('header.dataType.title')}}</th>
                              <!-- <th>{{overlayPanel.i18nLabels('header.type.title')}}</th> -->
                              <th>Predefined Values</th>
                           </tr>
                           <tr align="center" 
                              ng-repeat="ap in overlayPanel.getApplication().contexts.application.accessPoints | filter : {direction:'IN'}">
                              <td>{{ ap.name }}</td>
                              <td><select disabled="true" ng-model="ap.dataType">
                                    <option value="struct">Structured Data</option>
                                    <option value="primitive">Primitive</option>
                                    <option value="dmsDocument">Document</option>
                              </select></td>
                              <td ng-show="ap.dataType =='struct'? true : false"><select
                                 disabled="true" ng-model="ap.structuredDataTypeFullId"
                                 ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()">
                              </select></td>
                              <td ng-show="ap.dataType =='dmsDocument'? true : false">
                                 <select disabled="true"
                                 ng-model="ap.structuredDataTypeFullId"
                                 ng-options="structuredType.getFullId() as structuredType.name group by structuredType.modelId for structuredType in overlayPanel.getAllStructuredTypes()">
                              </select>
                              </td>
                              <td ng-show="ap.dataType == 'primitive'? true : false">
                                 <div
                                    ng-show="ap.primitiveDataType =='boolean'? true : false">boolean</div>
                                 <div
                                    ng-show="ap.primitiveDataType =='Calendar'? true : false">Calendar</div>
                                 <div
                                    ng-show="ap.primitiveDataType !='Calendar' && ap.primitiveDataType !='boolean'? true : false">
                                    <!-- <input type="text" ng-model="elt.value" ng-blur="overlayPanel.valueChanged(elt)"/> -->
                                    <!-- -->
                                    <input type="text"
                                       ng-model="ap.attributes['carnot:engine:defaultValue']"
                                       ng-blur="overlayPanel.valueChanged(ap)" />
                                 </div>
                              </td>
                              <td ng-show="ap.dataType =='dmsDocument'? true : false"></td>
                              <td ng-show="ap.dataType =='struct'? true : false"></td>
                           </tr>
                        </table>
                     </div>
                     <div id="errorView"
                        ng-show="overlayPanel.elementType == null ? true : false">
                        <label id="noSelectionErrorMessage"></label>
                     </div>
                  </div>
                  <div ng-repeat="ext in decoratorApplicationView.extensions"
                     id="{{ext.id}}">
                     <sd-include src="ext.pageHtmlUrl"
                        onload="decoratorApplicationViewOnload(ext)"
                        onfail="decoratorApplicationViewOnfail(ext)" />
                  </div>
               </div>
            </td>
         </tr>
      </table>
   </div>

   <script type="text/javascript"
      src="plugins/bpm-modeler/js/decoratorApplicationViewMain.js"></script>