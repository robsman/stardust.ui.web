<div class="view-panel" ng-controller="sdRoleAssignmentCtrl as ctrl" sg-stretch-to-bottom>
	<div class="view-panel-toolbar toolbar-buttons">
		<div class="view-toolbar-section">
			<span sd-refresh sda-on-refresh="ctrl.refresh();"
			aid="BCC-RoleAssignment"></span>
		</div>
	</div>
	<div ng-if="ctrl.createTable">
		<div class="view-panel-toolbar heading">{{i18n('business-control-center-messages.views-roleAssignmentView-title')}}</div>
		<table sd-data-table="ctrl.roleAssignmentTable"
			sd-data="ctrl.getRoleAssignmentData(params)" sda-mode="remote"
			sda-preference-delegate="ctrl.preferenceDelegate(prefInfo)"
			sda-ready="ctrl.showRoleAssignmentTable" sda-selectable="multiple"
			sda-selection="ctrl.rowSelectionForRoleAssignment"
			sda-column-selector="{{ctrl.columnSelector}}" sda-sortable="true"
			sda-sort-by="{name : 'teamMember', dir : 'asc'}" sda-exports="true"
			sda-exports-file-name="{{ctrl.exportFileNameForRoleAssignment}}">
			<thead
				sda-i18n-scope="business-control-center-messages.views-common-column">
				<tr>
					<th sda-name="teamMember" sda-fixed="true" sda-sortable="true">
					   <div sda-filter-template>
						<div sd-text-search-filter></div>
					   </div>
					</th>
					<th ng-repeat="obj in ctrl.columns" sda-name="{{ctrl.columnsLabelMap[obj]}}"
						sda-label="{{obj}}" sda-visible="true"></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td sda-exporter="rowData.teamMember"><a href="#"
						ng-click="bpmCommon.stopEvent($event); ctrl.openUserManagerView(rowData.userOid,rowData.userId);"
						title="{{i18n('business-control-center-messages.views-userManagerDetailView-title')}}"
						class="tbl-tool-link"
						aid="BCC-RoleAssignment-RoleTbl-TeamMember">{{rowData.teamMember}}</a></td>
					<td ng-repeat="obj in ctrl.columns"
						sda-exporter="ctrl.getExportValue(rowData.columnsValue[colData.title])">
						<div sd-role-assignment-column-content
							sda-value="rowData.columnsValue[colData.title]"></div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>