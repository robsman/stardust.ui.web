<div class="view-panel" ng-controller="sdResourcePerformanceCtrl as ctrl"
	sg-stretch-to-bottom>
	<div class="toolbar-buttons">
		<div class="view-toolbar-section">
			<span sd-refresh sda-on-refresh="ctrl.refresh();"></span>
		</div>
	</div>


	<div class="view-panel-content">
		<table sd-data-table="ctrl.dataTable" 
			sd-data="ctrl.getResourcePerformanceData(params)" sda-ready="ctrl.ready"
			sda-preference-delegate="ctrl.preferenceDelegate(prefInfo)"
			sda-sortable="true"
			sda-sort-by="{name : 'processDefinitionId', dir : 'desc'}"
			sda-mode="remote" sda-sortable="false"
			sda-exports="true" sda-exports-file-name="{{ctrl.exportFileName}}"
			sda-column-selector="{{ctrl.columnSelector}}">
			<thead>
				<tr>
					<th sda-name="processDefinitionId" sda-sortable="true" sda-visible="true"
						sda-fixed="true"
						sda-label="{{i18n('business-control-center-messages.views-resourcePerformance-column-processDefinition')}}">
					</th>
					<th ng-repeat="col in ctrl.columns" sda-name="{{col}}"
						 sda-label="{{ctrl.columnsDefinition[col]}}"></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td sda-exporter="rowData.processDefinitionId">{{rowData.processDefinitionId}}
					</td>
					<td ng-repeat="col in ctrl.columns"
						sda-exporter="ctrl.getExportValue(rowData.statisticsByColumns[colData.title])">
						<div>
							<b>{{i18n("business-control-center-messages.views-resourcePerformance-column-waitingTime")}}
								: </b> 
							<span
								ng-bind="rowData.statisticsByColumns[colData.title].averageTime">
						   </span>
						</div>
						<div>
							<b>{{i18n("business-control-center-messages.views-resourcePerformance-column-processingTime")}}
								: </b> 
							<span
								ng-bind="rowData.statisticsByColumns[colData.title].averageWaitingTime">
						   </span>
						</div>
						<div>
							<b>{{i18n("business-control-center-messages.views-common-column-status")}}
								: </b> 
							<span
								ng-bind="rowData.statisticsByColumns[colData.title].state">
						   </span>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
